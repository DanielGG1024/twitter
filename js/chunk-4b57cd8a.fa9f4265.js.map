{"version":3,"sources":["webpack:///./src/components/ReplyModal.vue?5575","webpack:///src/components/ReplyModal.vue","webpack:///./src/components/ReplyModal.vue?50ba","webpack:///./src/components/ReplyModal.vue?792f","webpack:///./src/components/UserSelfLike.vue?97a0","webpack:///./src/assets/pic/icon_like_fill.png","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/apis/users.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./src/apis/tweet.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/ReplyModal.vue?d993","webpack:///./src/assets/pic/close.png","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/assets/pic/heart.png","webpack:///./src/assets/pic/chat.png","webpack:///./src/components/UserSelfLike.vue?9a30","webpack:///src/components/UserSelfLike.vue","webpack:///./src/components/UserSelfLike.vue?9d6c","webpack:///./src/components/UserSelfLike.vue?e2d5","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","staticClass","on","clickModalBackground","clickClose","tweet","User","avatar","_v","_s","account","_f","createdAt","description","currentUser","domProps","$event","target","composing","teweetContent","errorContentMessage","handleSubmit","TweetId","staticRenderFns","mixins","props","ReplyModalSwitch","type","Boolean","required","Object","data","contentError","created","console","log","computed","methods","$emit","className","component","module","exports","$","$trim","trim","forcedStringTrimMethod","proto","forced","getToken","localStorage","getItem","getCurrentUser","apiHelper","get","headers","Authorization","userId","update","formData","put","getTopUsers","getUserTweets","getUserReplies","getUserLikes","getUserFollowers","getUserFollowings","requireObjectCoercible","toString","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","postTweet","data_JSON","post","postTweetReply","tweetId","getTweets","getTweet","getTweetReplies","addLike","removeLike","addFollow","removeFollow","delete","getTopUser","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","callbackfn","arguments","length","undefined","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","isSymbol","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","TypeError","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","parseInt","key","NumberWrapper","valueOf","call","keys","split","j","_l","like","params","id","clickChatBtn","RepliesCount","stopPropagation","preventDefault","LikesCount","ReplyModal","afterClickClose","afterTweetReplyPost","components","likes","Number","$route","fetchUserLikes","beforeRouteUpdate","to","from","next","modalTweet","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-4b57cd8a.fa9f4265.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ReplyModalSwitch),expression:\"ReplyModalSwitch\"}],staticClass:\"modal-background\",on:{\"click\":_vm.clickModalBackground}},[_c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-header\"},[_c('div',{staticClass:\"close-icon\",on:{\"click\":_vm.clickClose}},[_c('img',{staticClass:\"close\",attrs:{\"src\":require(\"../assets/pic/close.png\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"reply-icon-wrapper\"},[_c('img',{staticClass:\"user-icon\",attrs:{\"src\":_vm.tweet.User.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"txt-wrapper\"},[_c('div',{staticClass:\"txt-info\"},[_c('span',{staticClass:\"user-name\"}),_c('span',{staticClass:\"user-account\"},[_vm._v(\"＠\"+_vm._s(_vm.tweet.User.account)+\" \"),_c('span',[_vm._v(\"．\"+_vm._s(_vm._f(\"fromYear\")(_vm.tweet.createdAt)))])])]),_c('div',{staticClass:\"txt\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")])]),_c('div',{staticClass:\"txt-footer\"},[_c('span',{staticClass:\"txt-footer-reply\"},[_vm._v(\"回覆給\")]),_c('span',{staticClass:\"footer-account\"},[_vm._v(\"＠\"+_vm._s(_vm.tweet.User.account))])])])]),_c('div',{staticClass:\"modal-txt\"},[_c('div',{staticClass:\"modal-content-post\"},[_c('div',{staticClass:\"modal-main-tweet\"},[_c('div',{staticClass:\"user-icon-wrapper\"},[_c('img',{staticClass:\"user-icosn\",attrs:{\"src\":_vm.currentUser.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"modal-main-tweet-txt\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.teweetContent),expression:\"teweetContent\"}],staticClass:\"modal-textarea\",attrs:{\"placeholder\":\"有甚麼新鮮事?\"},domProps:{\"value\":(_vm.teweetContent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.teweetContent=$event.target.value}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contentError),expression:\"contentError\"}],staticClass:\"modal-info\"},[_vm._v(_vm._s(_vm.errorContentMessage))])]),_c('button',{staticClass:\"modal-main-tweet-button\",on:{\"click\":function($event){return _vm.handleSubmit(_vm.tweet.TweetId)}}},[_vm._v(\" 推文 \")])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"fade\">\n    <div\n      v-show=\"ReplyModalSwitch\"\n      @click=\"clickModalBackground\"\n      class=\"modal-background\"\n    >\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <div @click=\"clickClose\" class=\"close-icon\">\n            <img src=\"../assets/pic/close.png\" class=\"close\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"reply\">\n          <div class=\"reply-icon-wrapper\">\n            <img class=\"user-icon\" :src=\"tweet.User.avatar\" alt=\"\" />\n          </div>\n          <div class=\"txt-wrapper\">\n            <div class=\"txt-info\">\n              <span class=\"user-name\"></span>\n              <span class=\"user-account\"\n                >＠{{ tweet.User.account }}\n                <span>．{{ tweet.createdAt | fromYear }}</span>\n              </span>\n            </div>\n            <div class=\"txt\">\n              <p>\n                {{ tweet.description }}\n              </p>\n            </div>\n            <div class=\"txt-footer\">\n              <span class=\"txt-footer-reply\">回覆給</span\n              ><span class=\"footer-account\">＠{{ tweet.User.account }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-txt\">\n          <div class=\"modal-content-post\">\n            <div class=\"modal-main-tweet\">\n              <div class=\"user-icon-wrapper\">\n                <img class=\"user-icosn\" :src=\"currentUser.avatar\" alt=\"\" />\n              </div>\n              <div class=\"modal-main-tweet-txt\">\n                <textarea\n                  v-model=\"teweetContent\"\n                  class=\"modal-textarea\"\n                  placeholder=\"有甚麼新鮮事?\"\n                ></textarea>\n                <span v-show=\"contentError\" class=\"modal-info\">{{\n                  errorContentMessage\n                }}</span>\n              </div>\n              <button\n                @click=\"handleSubmit(tweet.TweetId)\"\n                class=\"modal-main-tweet-button\"\n              >\n                推文\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n<script>\n// import userAPI from \"./../apis/user\";\nimport tweetAPI from \"./../apis/tweet\";\nimport { Toast } from \"./../utils/helpers\";\nimport { mapState } from \"vuex\";\nimport { fromNowFilter } from \"./../utils/mixins\";\nexport default {\n  name: \"ReplyModal\",\n  mixins: [fromNowFilter],\n  props: {\n    ReplyModalSwitch: {\n      type: Boolean,\n      required: true,\n    },\n    tweet: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      teweetContent: \"\",\n      contentError: false,\n      errorContentMessage: \"\",\n      // avatar: \"\",\n    };\n  },\n  created() {\n    console.log('tweet', this.tweet)\n\n  },\n\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"]),\n  },\n  methods: {\n    clickClose() {\n      this.$emit(\"after-click-close\");\n    },\n    clickModalBackground(e) {\n      const target = e.target;\n      if (target.className === \"modal-background\") {\n        this.$emit(\"after-click-background\");\n      } else {\n        return;\n      }\n    },\n    async handleSubmit(tweetId) {\n      const tweet = this.teweetContent;\n      if (tweet.trim().length === 0) {\n        this.contentError = true;\n        this.errorContentMessage = \"內容不可以空白\";\n        return;\n      } else {\n        if (tweet.length > 140) {\n          this.contentError = true;\n          this.errorContentMessage = \"字數不可超過140字\";\n          return;\n        }\n        this.contentError = false;\n        this.errorContentMessage = \"\";\n      }\n      try {\n        const data = `{\n          \"comment\":\"${tweet}\"\n        }`;\n        const data_JSON = JSON.parse(data);\n        const response = await tweetAPI.postTweetReply({ tweetId, data_JSON });\n        console.log(\"Page ReplyModal response:\", response);\n        if (response.data.status !== \"success\") {\n          throw new Error();\n        }\n        this.$emit(\"after-tweetReply-post\");\n        this.teweetContent = \"\";\n        Toast.fire({\n          icon: \"success\",\n          title: \"發送成功!\",\n        });\n      } catch {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法回復,請稍後\",\n        });\n      }\n      // console.log(\"tweetID\", tweetId);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../assets/scss/replymodal.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyModal.vue?vue&type=template&id=77665934&scoped=true&\"\nimport script from \"./ReplyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyModal.vue?vue&type=style&index=0&id=77665934&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77665934\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfLike.vue?vue&type=style&index=0&id=5889bef2&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMISURBVHgB7ZlRbtpAEEBn1pCvKuUGsRXyH05QOEHpX1WllKgHSDlB4ARJT1BCoqp/5QZxT9D8B4T56W/9HcDTWacIYq/N2hjiSDwJIYb1emY8s7szBtixY8eLBpMMHpn1EhReHfNl8lPyhUQOzCa25fxwEkzFc703oVisAqG5kHq2NbixIQFaBkjFRWH/jAC+8M+SehTZRHBlDa+7sXOVT6oIeM63rkYMcRGp700mHR2nrDRgfNj4RAiXEKl4YEKkrjcxWpbTdZflvhOM1xeE1NSZBwgcAuqsckisAeNy45y93oakyJvPHmpzD8pwQWPvlu9mQkJYwfbBoNeJ+V/N+KhxxiFxCWnxjRAVjghAY/93GuUXU1HLGlwrdVEa4HussDeCtaE+EriE2IT1cGn6UFHlREE1WhhFGToZgHVKtM5FUsJC8Rt/10J3CAqy8372EHi14DIrgoOk9yGvkKgHRSEDOF6PIacgwpugTCjG5dYAUOj2xICR2TQh5/yxPh8s/xbwwgmtQk65kc0KuiHMQe+JzuEnwDso5Bc3KAgbgHw8zi10F5SEl1HAX5BTVLopktizIbeEdVOeVDiR/4Lm+X9rcG6aw54VFAv1WPgKOQMF2iq5eh+YivR1wIbwJqgsapQGPJaDZENOQMQu6+So/ovciWlqnEJOiPK+JNIAaTGXlM+eC3Hel8SfhWaiDYrdb2vwyhPnfUmsATIXuA3SgmfCb6vEeF+iVbE65Y8/ZX0LW0SGzsH91co81DpO+wm9zUOeRujM0e4ZjI4+HCMVbmHzOzS3UERlVejM0S5orPvvd0Sbzwci71RXeUmiikz2KfmYofVo0yDntoY3/STXpGo7jcqNNl+YafvFV37Qa0NCUvfNsjQirfKStRp/WRgR17jVYe3O5ejwpI4gLlJ0n11uFb5L+kYmSCatV9lPQsNL0P/ntzm8tyRZbaLIpnf8H42Qcv3jwRohEyRTAyR+d8/w2tzHfAuLTc/1qzwulIKvntYlcwOWkS/0AD0XJntO1orv2LHjkX833CXiXlBIlQAAAABJRU5ErkJggg==\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","import {\n  apiHelper\n} from \"../utils/helpers\";\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  getCurrentUser() {\n    return apiHelper.get(`/get-current-user`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  get({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  update( {userId ,formData }) {\n    return apiHelper.put(`/users/${userId}`, formData, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getTopUsers() {\n    return apiHelper.get('users/top', {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserTweets({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserReplies({userId}) {\n    return apiHelper.get(`/users/${userId}/replied_tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserLikes({userId}) {\n      return apiHelper.get(`/users/${userId}/likes`, {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      })\n  },\n  getUserFollowers({ userId }) {\n    return apiHelper.get(`/users/${userId}/followers`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserFollowings({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/followings`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n\n\n}","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","import { apiHelper } from \"../utils/helpers\";\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  postTweet({ data_JSON }) {\n    return apiHelper.post('tweets', data_JSON, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  postTweetReply({ tweetId, data_JSON }) {\n    return apiHelper.post(`tweets/${tweetId}/replies`, data_JSON, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getTweets() {\n    return apiHelper.get('tweets', {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getTweet({ tweetId }) {\n    return apiHelper.get(`tweets/${tweetId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getTweetReplies({ tweetId }) {\n    return apiHelper.get(`tweets/${tweetId}/replies`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  addLike({ tweetId }) {\n    return apiHelper.post(`tweets/${tweetId}/like`, null, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  removeLike({ tweetId }) {\n    return apiHelper.post(`tweets/${tweetId}/unlike`, null, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  addFollow({ data_JSON }) {\n    return apiHelper.post('followships', data_JSON, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  removeFollow({ userId }) {\n    return apiHelper.delete(`followships/${userId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getTopUser() {\n    return apiHelper.get('users/top', {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=style&index=0&id=77665934&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVHgBxdfLEYIwEAbgf6nAEuxMPOjdDijBsx6MldmCHWCCBHmEZDdsxj0AG5Z8M5lkZwD+FOQu7RkHtLja7G3Thm54okCMHQ+/7G0/qqm18Q4FjM+r7yh2szrTFxZBfzBwCdSr4CHUBQ0FJ9Q2ewS+zV72NdSu8JEmuSIeRe8wtBhXwFOoe6TghxtwDroK5+JcNApLcQmahLm4FGXBKby/GwhQNpzAIUVFMBtnoGI4iTNRFxWkQXb6nHeLUkGs7t5psDocf3PxUDbOO06Rc9rPIm6v6QbCaA457ZW2osOQECcNNAcnLVSKkyYqwUkb5eJUAmXhpdAU7nt1gwKoi24O32gW8PxPQgmN4R+H8M/Gca8TfQAAAABJRU5ErkJggg==\"","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a number');\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgBvVbNThNRFD7nTmdqDIvyBuUJKBvjxtgm7i1LV9ZYjTtKolgwpG0IUnBB2RHAMOzcgTtXtiSuTd+A8Qnsks4wczznTqeWOrQV0C+Z3Dt35n7fOXfOzwD8J+DwQqFUTSnTzCcUzsp9QPDjQrkndr3qxBHI+wnLKhiIswTU8ck//bi1ejJS6OXSWj5A45AXUzE22V63u2g3qp1IwEpaFQIoxeg7bGFt/8M7+w+h4tJGBZGqEamPwamCwEFSeQT1mK1NC4HXdefgTjJlEh3zfYavDiHtUBC0Q0IjjwhP9Zywure1XOsLiSeExnG4yZ8/qK+2Bs17Vd5I+wEToyaWZ+Jxhje373bdXKPnZYQXb9YzoLAp7zFfTviUPCBMbIeO0OKwiGC3vux4rpsDArE62xNx4kQEfGRtMTikNA71WHy9lkXDEPXW/uZKDkZAe0Z0JnMD3ZndKwKk79nb98KbFa8UKJXVXhF8hjEQz9jEZ3KNE7nEGRiZRLQYEHVgAuzXf0fSWCHwHQ4OmaUU/EMQqX6aKE5IRyaG0hF1q1AIaRlRgaPYsXa4HFaC2wQiPtQTH9o6jzg6fvKQ4mSctmPC9ToocIRyUp9JGuxtrsyEeUS0I6NlmSW4JSSIFiAkP5JBC124XgN0VcAFqWFwQ4g3CJjXAsqz+0JyXD2vUmYyuQ03hElQAV0baSfKt354i1dsBS9S4TnXPrgmuM4VhEO+jYH6pDQutYlimcsR6XLU8dCdsyfI/kGEAQBN7Q1Xj8HkvpSwUlAD6B0hWc2/+V6DItxuasMVBOM2RcWQN7W9rpcbF/JikJm0ZE+GG2HrIKY4x5Ygzqf5sCVgxkyazUK5moZRnvREpD9Nyd4YIIyy0mKCsNk5/M1yw9+swA3OVOpYH9cVTXCsUCTG/wWHfBw6CqPWrNet5EKAVELdReFo6twtNUYc8UihCMXyepVFKjJn0U5vowQK5x/UDrZWGuM4DJgA3799bd178OiIK/00/3jcZ5FzlvrEXfbJ3ubql0k4fgFTX2blSSTp7wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKcSURBVHgBtVZdbtpAEJ6xCUHlofQGzglKbuDcoDlBjQSobwGpBUQU4YgWKH0IvFUQqXCC5gbhBqEnqG9QPwb8M51d44gSI0xwPwm87C7z7czszGeEHTAqZi4DkHNTqha1nnI96/vAtHbZwW3G0+njC0LS+acO8TADn6bjb5eTWETFj20d1dQPANJWUxZ/5rzVjjJAvI+N5HmYe9rv0zkTzrcSFWvdFiKZq6UJoTu97V3NIAaKjbYOvmogwnv5bwWMUbc5fUZU+vTFAAXZE7ABqTruRYdgJ2HtcwVRuRFjQu8sPKgkMhpd7YjgXoQLyTsf9a/u4ACUGnxokoe2nMXydDIwbUUsMEkryAlODiURENFgD4QdLZ0+qog5ZbWmiy8VF9eQEMgnaYsQg5xxbvKcmwcez8Zfm2eQIEq1zgMnJ8/he6P46GurM/yChEEA0mYqo+YVIkXefyKw4T8izBHw/c9BwmCbr5+IVFn1cvotJA0CTTzcR28u66hU7/zhR04kTdx5SABBbdJvHs75kp3K0BHRUDzTx5kWJISgNhkY2JZE7tIZIKBF4FfK3O/gQJRr7Xd8fIPDZWUfHdkA1nudqCduQ5BDQnO5XAxfEkaD7aTYDopujlQIe+Y/3VuQoaL8pEAiLF6ekedOuUnaquPYuwSuVO9dcFRMQcIqcD3qXZrh2jM9+sBJdH0yw3a/gcjuIYXyON3iApV9jWuyettvDtb3RCpsSOiBr/MVzRNffQz6ocVEJ+v71oVS5MRHrxClYVuJNsElQOtEm14w0TC7cMzBlrym4AUIvVjl0mYNK+ySFwX2RLneuUFVvQ/0S7nLLpYncTRsX480ESqRCyCvOuo3Y4vk3h6JXLxied5XieN7xMXHNWLFfSvaxF+amCCyjEpAPQAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"self-like-list\"}},[_vm._l((_vm.likes),function(like){return _c('div',{key:like.index,staticClass:\"like\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: like.User.id } }}},[_c('div',{staticClass:\"avatar\"},[_c('div',{staticClass:\"avatar-img\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(like.User.avatar),\"alt\":\"\"}})])])]),_c('div',{staticClass:\"like-main\"},[_c('router-link',{attrs:{\"to\":{ name: 'Reply', params: { id: like.TweetId } }}},[_c('div',{staticClass:\"like-user-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(like.User.name))]),_c('div',{staticClass:\"account\"},[_vm._v(\" @\"+_vm._s(like.User.account)),_c('span',[_vm._v(\"‧\"+_vm._s(_vm._f(\"fromNow\")(like.createdAt)))])])]),_c('div',{staticClass:\"like-content scrollbar\"},[_vm._v(\" \"+_vm._s(like.description)+\" \")])]),_c('div',{staticClass:\"like-status\"},[_c('div',{staticClass:\"replies state\"},[_c('img',{staticClass:\"replies-img\",attrs:{\"src\":require(\"../assets/pic/chat.png\"),\"alt\":\"chat-icon\"},on:{\"click\":function($event){return _vm.clickChatBtn(like.TweetId)}}}),_c('div',{staticClass:\"replies-count count\"},[_vm._v(_vm._s(like.RepliesCount))])]),_c('div',{staticClass:\"likes state\"},[(like.isliked)?_c('img',{staticClass:\"likes-img\",attrs:{\"src\":require(\"../assets/pic/icon_like_fill.png\"),\"alt\":\"heart-icon\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.removeLike(like)}}}):_c('img',{staticClass:\"likes-img\",attrs:{\"src\":require(\"../assets/pic/heart.png\"),\"alt\":\"heart-icon\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(like)}}}),_c('div',{staticClass:\"likes-count count\"},[_vm._v(_vm._s(like.LikesCount))])])])],1)],1)}),_c('ReplyModal',{attrs:{\"ReplyModalSwitch\":_vm.ReplyModal,\"tweet\":_vm.tweet},on:{\"after-click-background\":_vm.afterClickClose,\"after-click-close\":_vm.afterClickClose,\"after-tweetReply-post\":_vm.afterTweetReplyPost}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"self-like-list\">\n    <div class=\"like\" v-for=\"like in likes\" :key=\"like.index\">\n      <router-link :to=\"{ name: 'user', params: { id: like.User.id } }\">\n      <div class=\"avatar\">\n        <div class=\"avatar-img\">\n          <img :src=\"like.User.avatar | emptyImage\" alt=\"\" />\n        </div>\n      </div>\n      </router-link>\n\n      <div class=\"like-main\">\n        <router-link :to=\"{ name: 'Reply', params: { id: like.TweetId } }\">\n\n        <div class=\"like-user-info\">\n          <div class=\"name\">{{ like.User.name }}</div>\n          <div class=\"account\">\n            @{{ like.User.account }}<span>‧{{ like.createdAt | fromNow }}</span>\n          </div>\n        </div>\n        <div class=\"like-content scrollbar\">\n          {{ like.description }}\n        </div>\n        </router-link>\n\n        <div class=\"like-status\">\n          <div class=\"replies state\">\n            <img\n              @click=\"clickChatBtn(like.TweetId)\"\n              class=\"replies-img\"\n              src=\"../assets/pic/chat.png\"\n              alt=\"chat-icon\"\n            />\n            <div class=\"replies-count count\">{{ like.RepliesCount }}</div>\n          </div>\n          <div class=\"likes state\">\n            <img\n              v-if=\"like.isliked\"\n              @click.stop.prevent=\"removeLike(like)\"\n              class=\"likes-img\"\n              src=\"../assets/pic/icon_like_fill.png\"\n              alt=\"heart-icon\"\n            />\n            <img\n              v-else\n              @click.stop.prevent=\"addLike(like)\"\n              class=\"likes-img\"\n              src=\"../assets/pic/heart.png\"\n              alt=\"heart-icon\"\n            />\n            <div class=\"likes-count count\">{{ like.LikesCount }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ReplyModal\n      :ReplyModalSwitch=\"ReplyModal\"\n      :tweet=\"tweet\"\n      @after-click-background=\"afterClickClose\"\n      @after-click-close=\"afterClickClose\"\n      @after-tweetReply-post=\"afterTweetReplyPost\"\n    />\n  </div>\n</template>\n\n\n<script>\nimport ReplyModal from \"./../components/ReplyModal\";\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport tweetAPI from \"../apis/tweet\";\n\nexport default {\n  mixins: [fromNowFilter, emptyImageFilter],\n  components: {\n    ReplyModal,\n  },\n  data() {\n    return {\n      likes: [],\n      tweet: {},\n      ReplyModal: false,\n      userId: Number(this.$route.params.id),\n    };\n  },\n  created() {\n    this.fetchUserLikes(this.userId);\n  },\n  // watch: {\n  //   likes: {\n  //     handler: function () {\n  //       this.fetchUserLikes(this.userId);\n  //     },\n  //     // deep: true,\n  //   },\n  // },\n  beforeRouteUpdate(to, from, next) {\n    console.log(to, from);\n    // 路由改變時重新抓取資料\n    const { id } = to.params;\n    this.fetchUserLikes(id);\n    next();\n  },\n  methods: {\n    async fetchUserLikes(userId) {\n      try {\n        const { data } = await usersAPI.getUserLikes({ userId });\n        console.log(\"fetchUserLikes\", data);\n        this.likes = data;\n\n        console.log('likes', this.likes)\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得推文，請稍後再試\",\n        });\n      }\n    },\n    async addLike(like) {\n      console.log(\"like\", like);\n      try {\n        const tweetId = like.TweetId\n        const { data } = await tweetAPI.addLike({ tweetId });\n        console.log(\"add data\", data)\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        like.LikesCount += 1\n        like.isliked = true\n        // this.fetchUserLikes(this.userId);\n\n      } catch (error) {\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法喜歡,請稍後在試\",\n        });\n      }\n    },\n    async removeLike(like) {\n      console.log(\"like\", like);\n      try {\n        const tweetId = like.TweetId\n        const response = await tweetAPI.removeLike({ tweetId });\n        console.log(\"delete reponse\", response);\n        const { data } = response;\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        like.isliked = false\n        like.LikesCount -= 1\n        // this.fetchUserLikes(this.userId);\n      } catch (error) {\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取消喜歡,請稍後在試\",\n        });\n      }\n    },\n    clickChatBtn(tweetId) {\n      this.ReplyModal = true;\n      const modalTweet = this.likes.find((item) => item.TweetId === tweetId);\n    \n      this.tweet = modalTweet\n\n      console.log(\"clickBtn tweet\", this.tweet)\n      console.log(\"clickBtn modalTweet\", modalTweet)\n    },\n    afterClickClose() {\n      this.ReplyModal = false;\n    },\n    afterTweetReplyPost() {\n      this.ReplyModal = false;\n      this.$emit(\"after-tweetReply-post\");\n      this.fetchUserLikes(this.userId)\n      \n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/userSelfLike.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfLike.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfLike.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSelfLike.vue?vue&type=template&id=5889bef2&scoped=true&\"\nimport script from \"./UserSelfLike.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSelfLike.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSelfLike.vue?vue&type=style&index=0&id=5889bef2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5889bef2\",\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}