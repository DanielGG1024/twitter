{"version":3,"sources":["webpack:///./src/components/UserSelfReply.vue?1bf8","webpack:///src/components/UserSelfReply.vue","webpack:///./src/components/UserSelfReply.vue?ba2e","webpack:///./src/components/UserSelfReply.vue?b1e1","webpack:///./src/apis/users.js","webpack:///./src/components/UserSelfReply.vue?ee9c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","reply","key","id","name","params","User","_f","avatar","TweetId","_v","_s","account","createdAt","Tweet","comment","staticRenderFns","mixins","data","replies","created","fetchUserReplies","userId","beforeRouteUpdate","console","log","to","from","next","methods","component","getToken","localStorage","getItem","getCurrentUser","apiHelper","get","headers","Authorization","update","formData","put","getTopUsers","getUserTweets","getUserReplies","getUserLikes","getUserFollowers","getUserFollowings"],"mappings":"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","file":"js/chunk-0860deea.fa074bcb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"self-reply reply-list\",attrs:{\"id\":\"self-reply-list\"}},_vm._l((_vm.replies),function(reply){return _c('div',{key:reply.id,staticClass:\"reply\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: reply.User.id } }}},[_c('div',{staticClass:\"avatar\"},[_c('div',{staticClass:\"avatar-img\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(reply.User.avatar),\"alt\":\"avatar\"}})])])]),_c('div',{staticClass:\"reply-main\"},[_c('router-link',{attrs:{\"to\":{ name: 'Reply', params: { id: reply.TweetId } }}},[_c('div',{staticClass:\"reply-user-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(reply.User.name))]),_c('div',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(reply.User.account)),_c('span',[_vm._v(\"‧\"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt)))])])]),_c('div',{staticClass:\"reply-this-reply\"},[_vm._v(\"回覆\"),_c('span',[_vm._v(\" @\"+_vm._s(reply.Tweet.User.account))])]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(reply.comment))])])],1)],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"self-reply-list\" class=\"self-reply reply-list\">\n    \n    <div class=\"reply\" v-for=\"reply in replies\" :key=\"reply.id\">\n      <router-link :to=\"{ name: 'user', params: { id: reply.User.id } }\">\n      <div class=\"avatar\">\n        <div class=\"avatar-img\">\n          <img :src=\"reply.User.avatar | emptyImage\" alt=\"avatar\">\n        </div>\n      </div>\n      </router-link>\n\n      <div class=\"reply-main\">\n\n        <router-link :to=\"{ name: 'Reply', params: { id: reply.TweetId } }\">\n        <div class=\"reply-user-info\">\n          <div class=\"name\">{{reply.User.name}}</div>\n          <div class=\"account\">@{{reply.User.account}}<span>‧{{reply.createdAt | fromNow}}</span></div>\n        </div>\n        <div class=\"reply-this-reply\">回覆<span> @{{reply.Tweet.User.account}}</span></div>\n        <div class=\"reply-content\">{{reply.comment}}</div>\n        </router-link>\n\n      </div>\n    </div>\n\n  </div>\n  \n</template>\n\n\n<script>\nimport usersAPI from \"./../apis/users\"\nimport { Toast } from \"./../utils/helpers\";\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\n\n\n\nexport default {\n  mixins: [fromNowFilter, emptyImageFilter],\n  data() {\n    return {\n      replies: [],\n    };\n  },\n  created() {\n    const { id: userId } = this.$route.params;\n    this.fetchUserReplies(userId)\n  },\n  beforeRouteUpdate (to, from, next) {\n    console.log(to, from)\n    // 路由改變時重新抓取資料\n    const { id } = to.params\n    this.fetchUserReplies(id)\n    next()\n  },\n  methods: {\n    async fetchUserReplies(userId) {\n      try{\n        const {data} = await usersAPI.getUserReplies({ userId })\n      console.log('this reply', data)\n      this.replies = data\n      }catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得推文，請稍後再試\",\n        });\n      }\n    },\n\n  },\n\n\n\n}\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/userSelfReply.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSelfReply.vue?vue&type=template&id=4e8a5254&scoped=true&\"\nimport script from \"./UserSelfReply.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSelfReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSelfReply.vue?vue&type=style&index=0&id=4e8a5254&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e8a5254\",\n  null\n  \n)\n\nexport default component.exports","import {\n  apiHelper\n} from \"../utils/helpers\";\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  getCurrentUser() {\n    return apiHelper.get(`/get-current-user`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  get({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  update( {userId ,formData }) {\n    return apiHelper.put(`/users/${userId}`, formData, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getTopUsers() {\n    return apiHelper.get('users/top', {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserTweets({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserReplies({userId}) {\n    return apiHelper.get(`/users/${userId}/replied_tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserLikes({userId}) {\n      return apiHelper.get(`/users/${userId}/likes`, {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      })\n  },\n  getUserFollowers({ userId }) {\n    return apiHelper.get(`/users/${userId}/followers`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserFollowings({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/followings`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n\n\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=style&index=0&id=4e8a5254&lang=scss&scoped=true&\""],"sourceRoot":""}