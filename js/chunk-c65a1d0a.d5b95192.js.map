{"version":3,"sources":["webpack:///./src/components/UserSelfReply.vue?7a85","webpack:///src/components/UserSelfReply.vue","webpack:///./src/components/UserSelfReply.vue?ba2e","webpack:///./src/components/UserSelfReply.vue?b1e1","webpack:///./src/apis/users.js","webpack:///./src/components/UserSelfReply.vue?16df"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","reply","key","id","name","params","User","_f","avatar","TweetId","_v","_s","account","createdAt","Tweet","comment","directives","rawName","value","noLength","expression","staticRenderFns","mixins","components","Spinner","data","replies","isProcessing","isLoading","created","fetchUserReplies","userId","beforeRouteUpdate","next","methods","component","getToken","localStorage","getItem","getCurrentUser","apiHelper","get","headers","Authorization","update","formData","put","getTopUsers","getUserTweets","getUserReplies","getUserLikes","getUserFollowers","getUserFollowings"],"mappings":"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","file":"js/chunk-c65a1d0a.d5b95192.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"self-reply reply-list\",attrs:{\"id\":\"self-reply-list\"}},[(_vm.isLoading)?_c('Spinner'):_vm._l((_vm.replies),function(reply){return _c('div',{key:reply.id,staticClass:\"reply\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: reply.User.id } }}},[_c('div',{staticClass:\"avatar\"},[_c('div',{staticClass:\"avatar-img\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(reply.User.avatar),\"alt\":\"avatar\"}})])])]),_c('div',{staticClass:\"reply-main\"},[_c('router-link',{attrs:{\"to\":{ name: 'Reply', params: { id: reply.TweetId } }}},[_c('div',{staticClass:\"reply-user-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(reply.User.name))]),_c('div',{staticClass:\"account\"},[_vm._v(\" @\"+_vm._s(reply.User.account)),_c('span',[_vm._v(\"‧\"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt)))])])]),_c('div',{staticClass:\"reply-this-reply\"},[_vm._v(\" 回覆\"),_c('span',[_vm._v(\" @\"+_vm._s(reply.Tweet.User.account))])]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(reply.comment))])])],1)],1)}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:( _vm.noLength === true ),expression:\" noLength === true \"}],staticClass:\"noLength\"},[_vm._v(\"目前尚未發表回覆\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"self-reply-list\" class=\"self-reply reply-list\">\n    <Spinner v-if=\"isLoading\" />\n    <div class=\"reply\" v-else v-for=\"reply in replies\" :key=\"reply.id\">\n      <router-link :to=\"{ name: 'user', params: { id: reply.User.id } }\">\n        <div class=\"avatar\">\n          <div class=\"avatar-img\">\n            <img :src=\"reply.User.avatar | emptyImage\" alt=\"avatar\" />\n          </div>\n        </div>\n      </router-link>\n\n      <div class=\"reply-main\">\n        <router-link :to=\"{ name: 'Reply', params: { id: reply.TweetId } }\">\n          <div class=\"reply-user-info\">\n            <div class=\"name\">{{ reply.User.name }}</div>\n            <div class=\"account\">\n              @{{ reply.User.account\n              }}<span>‧{{ reply.createdAt | fromNow }}</span>\n            </div>\n          </div>\n          <div class=\"reply-this-reply\">\n            回覆<span> @{{ reply.Tweet.User.account }}</span>\n          </div>\n          <div class=\"reply-content\">{{ reply.comment }}</div>\n        </router-link>\n      </div>\n    </div>\n    <div v-show=\" noLength === true \" class=\"noLength\">目前尚未發表回覆</div>\n  </div>\n</template>\n\n\n<script>\nimport Spinner from \"../components/Spinner.vue\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\n\nexport default {\n  mixins: [fromNowFilter, emptyImageFilter],\n  components:{\n    Spinner\n  },\n  data() {\n    return {\n      replies: [],\n      isProcessing: false,\n      isLoading: true,\n      noLength: false,\n    };\n  },\n  created() {\n    const { id: userId } = this.$route.params;\n    this.fetchUserReplies(userId);\n  },\n  beforeRouteUpdate(to, from, next) {\n    // 路由改變時重新抓取資料\n    const { id } = to.params;\n    this.fetchUserReplies(id);\n    next();\n  },\n  methods: {\n    async fetchUserReplies(userId) {\n      try {\n        this.isLoading = true;\n        const { data } = await usersAPI.getUserReplies({ userId });\n        this.replies = data;\n        this.isLoading = false;\n        if(this.replies.length === 0){\n          this.noLength = true\n        }\n      } catch (error) {\n        this.isLoading = false\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得推文，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/userSelfReply.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSelfReply.vue?vue&type=template&id=766038d2&scoped=true&\"\nimport script from \"./UserSelfReply.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSelfReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSelfReply.vue?vue&type=style&index=0&id=766038d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"766038d2\",\n  null\n  \n)\n\nexport default component.exports","import {\n  apiHelper\n} from \"../utils/helpers\";\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  getCurrentUser() {\n    return apiHelper.get(`/get-current-user`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  get({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  update( {userId ,formData }) {\n    return apiHelper.put(`/users/${userId}`, formData, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getTopUsers() {\n    return apiHelper.get('users/top', {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserTweets({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserReplies({userId}) {\n    return apiHelper.get(`/users/${userId}/replied_tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserLikes({userId}) {\n      return apiHelper.get(`/users/${userId}/likes`, {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      })\n  },\n  getUserFollowers({ userId }) {\n    return apiHelper.get(`/users/${userId}/followers`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserFollowings({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/followings`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n\n\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=style&index=0&id=766038d2&lang=scss&scoped=true&\""],"sourceRoot":""}