{"version":3,"sources":["webpack:///./src/components/UserSelfReply.vue?d84a","webpack:///./src/components/UserSelfReply.vue?451c","webpack:///src/components/UserSelfReply.vue","webpack:///./src/components/UserSelfReply.vue?ba2e","webpack:///./src/components/UserSelfReply.vue?b1e1","webpack:///./src/components/Spinner.vue?932b","webpack:///./src/components/Spinner.vue?640f","webpack:///./src/components/Spinner.vue?cbee","webpack:///./src/apis/users.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","reply","key","id","name","params","User","_f","avatar","TweetId","_v","_s","account","createdAt","Tweet","comment","staticRenderFns","mixins","components","Spinner","data","replies","isProcessing","isLoading","created","fetchUserReplies","userId","beforeRouteUpdate","console","log","to","from","next","methods","component","_m","script","getToken","localStorage","getItem","getCurrentUser","apiHelper","get","headers","Authorization","update","formData","put","getTopUsers","getUserTweets","getUserReplies","getUserLikes","getUserFollowers","getUserFollowings"],"mappings":"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","file":"js/chunk-430fd7ab.858cb9bb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=style&index=0&id=749f27e6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"self-reply reply-list\",attrs:{\"id\":\"self-reply-list\"}},[(_vm.isLoading)?_c('Spinner'):_vm._l((_vm.replies),function(reply){return _c('div',{key:reply.id,staticClass:\"reply\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: reply.User.id } }}},[_c('div',{staticClass:\"avatar\"},[_c('div',{staticClass:\"avatar-img\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(reply.User.avatar),\"alt\":\"avatar\"}})])])]),_c('div',{staticClass:\"reply-main\"},[_c('router-link',{attrs:{\"to\":{ name: 'Reply', params: { id: reply.TweetId } }}},[_c('div',{staticClass:\"reply-user-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(reply.User.name))]),_c('div',{staticClass:\"account\"},[_vm._v(\" @\"+_vm._s(reply.User.account)),_c('span',[_vm._v(\"‧\"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt)))])])]),_c('div',{staticClass:\"reply-this-reply\"},[_vm._v(\" 回覆\"),_c('span',[_vm._v(\" @\"+_vm._s(reply.Tweet.User.account))])]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(reply.comment))])])],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"self-reply-list\" class=\"self-reply reply-list\">\n    <Spinner v-if=\"isLoading\" />\n    <div class=\"reply\" v-else v-for=\"reply in replies\" :key=\"reply.id\">\n      <router-link :to=\"{ name: 'user', params: { id: reply.User.id } }\">\n        <div class=\"avatar\">\n          <div class=\"avatar-img\">\n            <img :src=\"reply.User.avatar | emptyImage\" alt=\"avatar\" />\n          </div>\n        </div>\n      </router-link>\n\n      <div class=\"reply-main\">\n        <router-link :to=\"{ name: 'Reply', params: { id: reply.TweetId } }\">\n          <div class=\"reply-user-info\">\n            <div class=\"name\">{{ reply.User.name }}</div>\n            <div class=\"account\">\n              @{{ reply.User.account\n              }}<span>‧{{ reply.createdAt | fromNow }}</span>\n            </div>\n          </div>\n          <div class=\"reply-this-reply\">\n            回覆<span> @{{ reply.Tweet.User.account }}</span>\n          </div>\n          <div class=\"reply-content\">{{ reply.comment }}</div>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport Spinner from \"../components/Spinner.vue\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport { fromNowFilter, emptyImageFilter } from \"./../utils/mixins\";\n\nexport default {\n  mixins: [fromNowFilter, emptyImageFilter],\n  components:{\n    Spinner\n  },\n  data() {\n    return {\n      replies: [],\n      isProcessing: false,\n      isLoading: true,\n    };\n  },\n  created() {\n    const { id: userId } = this.$route.params;\n    this.fetchUserReplies(userId);\n  },\n  beforeRouteUpdate(to, from, next) {\n    console.log(to, from);\n    // 路由改變時重新抓取資料\n    const { id } = to.params;\n    this.fetchUserReplies(id);\n    next();\n  },\n  methods: {\n    async fetchUserReplies(userId) {\n      try {\n        this.isLoading = true;\n        const { data } = await usersAPI.getUserReplies({ userId });\n        console.log(\"this reply\", data);\n        this.replies = data;\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得推文，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/userSelfReply.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelfReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSelfReply.vue?vue&type=template&id=749f27e6&scoped=true&\"\nimport script from \"./UserSelfReply.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSelfReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSelfReply.vue?vue&type=style&index=0&id=749f27e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"749f27e6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=5040bd38&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"bouncing-loader\"},[_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=5040bd38&scoped=true&\"\nvar script = {}\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=5040bd38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5040bd38\",\n  null\n  \n)\n\nexport default component.exports","import {\n  apiHelper\n} from \"../utils/helpers\";\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  getCurrentUser() {\n    return apiHelper.get(`/get-current-user`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  get({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  update( {userId ,formData }) {\n    return apiHelper.put(`/users/${userId}`, formData, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getTopUsers() {\n    return apiHelper.get('users/top', {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserTweets({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserReplies({userId}) {\n    return apiHelper.get(`/users/${userId}/replied_tweets`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserLikes({userId}) {\n      return apiHelper.get(`/users/${userId}/likes`, {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      })\n  },\n  getUserFollowers({ userId }) {\n    return apiHelper.get(`/users/${userId}/followers`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n  getUserFollowings({\n    userId\n  }) {\n    return apiHelper.get(`/users/${userId}/followings`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n  },\n\n\n}"],"sourceRoot":""}