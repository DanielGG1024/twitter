(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0638c398"],{"23b1":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"admin"},[t._m(0),s("div",{staticClass:"admin-form"},[s("form",{staticClass:"login",attrs:{action:""},on:{submit:function(a){return a.preventDefault(),a.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"input-wrapper"},[s("div",{staticClass:"input-txt",class:{error:t.accountError}},[s("label",{attrs:{for:"account"}},[t._v("帳號 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",name:"account",id:"account"},domProps:{value:t.account},on:{focus:t.addFocus,blur:t.removeFocus,input:function(a){a.target.composing||(t.account=a.target.value)}}})]),s("div",{staticClass:"input-wrapper-info"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.accountError,expression:"accountError"}],staticClass:"error-info"},[t._v("帳號不能為空")]),s("div",{staticClass:"amount"},[t._v("5/50")])])]),s("div",{staticClass:"input-wrapper"},[s("div",{staticClass:"input-txt",class:{error:t.passwordError}},[s("label",{attrs:{for:"password"}},[t._v("密碼 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{focus:t.addFocus,blur:t.removeFocus,input:function(a){a.target.composing||(t.password=a.target.value)}}})]),s("div",{staticClass:"input-wrapper-info"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.passwordError,expression:"passwordError"}],staticClass:"error-info"},[t._v("密碼不能為空")]),s("div",{staticClass:"amount"},[t._v("5/50")])])]),s("div",{staticClass:"button-wrapper"},[s("button",{staticClass:"form-submit-btn",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" "+t._s(t.adminLoginMessage)+" ")])])]),s("div",{staticClass:"other-link-wrapper"},[s("router-link",{attrs:{to:"/login"}},[t._v("前台登入")])],1)])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header"},[e("div",{staticClass:"logo-wrapper"},[e("img",{staticClass:"logo",attrs:{src:s("a896"),alt:""}})]),e("h2",{staticClass:"header-title"},[t._v("後台登入")])])}],o=s("1da1"),n=(s("96cf"),s("498a"),s("be6c")),i=s("2fa3"),c={data:function(){return{account:"",password:"",accountError:!1,passwordError:!1,isProcessing:!1,adminLoginMessage:"登入"}},methods:{addFocus:function(t){var a=t.target;a.parentNode.classList.add("focus")},removeFocus:function(t){var a=t.target;a.parentNode.classList.remove("focus")},handleSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,e,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.account.trim(),e=t.password.trim(),t.accountError=""===s,t.passwordError=""===e,a.prev=4,t.isProcessing=!0,t.adminLoginMessage="請稍後...",a.next=9,n["a"].adminlogIn({email:t.account,password:t.password});case 9:if(r=a.sent,o=r.data,"success"===o.status){a.next=13;break}throw new Error(o.message);case 13:localStorage.setItem("token",o.token),t.$store.commit("setCurrentUser",o.user),t.$router.push("/adminMain"),t.isProcessing=!1,a.next=24;break;case 19:a.prev=19,a.t0=a["catch"](4),i["a"].fire({icon:"error",title:"無法登入後台,請稍後"}),t.isProcessing=!1,t.adminLoginMessage="登入";case 24:case"end":return a.stop()}}),a,null,[[4,19]])})))()}}},u=c,d=(s("b535"),s("2877")),l=Object(d["a"])(u,e,r,!1,null,"59d65d00",null);a["default"]=l.exports},"903b":function(t,a,s){},b535:function(t,a,s){"use strict";s("903b")},be6c:function(t,a,s){"use strict";var e=s("2fa3"),r=function(){return localStorage.getItem("token")};a["a"]={adminlogIn:function(t){var a=t.email,s=t.password;return e["b"].post("admin/login",{email:a,password:s})},adminGetTweets:function(){return e["b"].get("admin/tweets",{headers:{Authorization:"Bearer ".concat(r())}})},adminGetUsers:function(){return e["b"].get("admin/users",{headers:{Authorization:"Bearer ".concat(r())}})},adminDeleteTweet:function(t){var a=t.tweetId;return e["b"].delete("admin/tweets/".concat(a),{headers:{Authorization:"Bearer ".concat(r())}})}}}}]);
//# sourceMappingURL=chunk-0638c398.d1530c30.js.map