(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79053390"],{"27c2":function(t,e,s){"use strict";s("7140")},"3b8f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popular"},[s("div",{staticClass:"popular-wrapper"},[t._m(0),t._l(t.users,(function(e){return s("PopularItem",{key:e.id,attrs:{user:e,currentUserId:t.currentUserId}})}))],2)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popular-title-wrapper"},[s("div",{staticClass:"title"},[t._v("Popular")])])}],r=s("5530"),i=s("1da1"),o=(s("96cf"),s("2fa3")),c=s("7482"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"one-popular-wrapper"},[s("div",{staticClass:"one-popular"},[s("router-link",{attrs:{to:{name:"user",params:{id:t.oneUser.id}}}},[s("div",{staticClass:"user-icon-wrapper"},[s("img",{staticClass:"user-icon",attrs:{src:t.oneUser.avatar,alt:""}})])]),s("div",{staticClass:"popular-txt"},[s("span",{staticClass:"popular-title"},[t._v(t._s(t.oneUser.name))]),s("a",{staticClass:"popular-link",attrs:{href:""}},[t._v("@"+t._s(t.oneUser.account))])]),s("div",{staticClass:"popular-follow"},[t.oneUser.id!==t.currentUserId?[t.oneUser.isFollowed?s("button",{staticClass:"popular-follow-btn btn-active",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFollow(t.oneUser.id)}}},[t._v(" "+t._s(t.deleteFollowMessage)+" ")]):s("button",{staticClass:"popular-follow-btn",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addFollow(t.oneUser.id)}}},[t._v(" "+t._s(t.addFollowMessage)+" ")])]:t._e()],2)],1)])},u=[],d=(s("a9e3"),{props:{user:{type:Object},currentUserId:{type:[Number,String]}},data:function(){return{oneUser:{},isProcessing:!1,deleteFollowMessage:"正在跟隨",addFollowMessage:"跟隨"}},created:function(){this.fetchPopulatItem()},methods:{fetchPopulatItem:function(){this.oneUser=this.user},deleteFollow:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,e.deleteFollowMessage="請稍後..",a=t,s.next=6,c["a"].removeFollow({userId:a});case 6:if(n=s.sent,200===n.status){s.next=9;break}throw new Error;case 9:e.oneUser=Object(r["a"])(Object(r["a"])({},e.oneUser),{},{isFollowed:!1}),e.isProcessing=!1,e.deleteFollowMessage="正在跟隨",s.next=19;break;case 14:s.prev=14,s.t0=s["catch"](0),e.isProcessing=!1,e.deleteFollowMessage="正在跟隨",o["a"].fire({icon:"error",title:"無法取消追蹤使用者,請稍後"});case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()},addFollow:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n,i,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t,n='{\n        "id":"'.concat(a,'"\n      }'),i=JSON.parse(n),s.prev=3,e.isProcessing=!0,e.addFollowMessage="請稍後..",s.next=8,c["a"].addFollow({data_JSON:i});case 8:if(l=s.sent,200===l.status){s.next=11;break}throw new Error;case 11:e.oneUser=Object(r["a"])(Object(r["a"])({},e.oneUser),{},{isFollowed:!0}),e.isProcessing=!1,e.addFollowMessage="跟隨",s.next=21;break;case 16:s.prev=16,s.t0=s["catch"](3),e.isProcessing=!1,e.addFollowMessage="跟隨",o["a"].fire({icon:"error",title:"無法追蹤使用者,請稍後"});case 21:case"end":return s.stop()}}),s,null,[[3,16]])})))()}}}),p=d,w=(s("fa11"),s("2877")),f=Object(w["a"])(p,l,u,!1,null,"10622a20",null),m=f.exports,v=s("2f62"),g={name:"Popular",components:{PopularItem:m},data:function(){return{currentUserId:-1,users:"",isProcessing:!1,PopularItem:m}},created:function(){this.fetchTopUsers(),this.currentUserId=this.currentUser.id},methods:{fetchTopUsers:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getTopUser();case 3:s=e.sent,a=s.data,t.users=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),o["a"].fire({icon:"warning",title:"無法取得前十"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},computed:Object(r["a"])({},Object(v["b"])(["currentUser","isAuthenticated"]))},b=g,C=(s("47b8"),Object(w["a"])(b,a,n,!1,null,"930f2d9a",null));e["a"]=C.exports},"47b8":function(t,e,s){"use strict";s("6271")},6271:function(t,e,s){},7140:function(t,e,s){},"800e":function(t,e,s){"use strict";s("d7d7")},a896:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAjDSURBVHgB7Z1rUhtHEMd7JcCOnVS4QdYnMD6B4QTACSxXbMpV+WBzgogTWPkWO0kFTmB8ApMTIN9gfQNSlQ8JD016embxIvSY7nnsUjW/KpAsC+3jP93T0zPTAshkMplMJpPJZDKZTCbTHQq4A6gBrMMabMIESujDY3os8MdQfn0jnOHrZ/jsjJ73YAxX8AX/PYZLGBeH9H+dppOCkAArsIE3fxtv7A40b7ofY7ziExTpY/E7PnaQTgmiXqAV9OEZWsAOntk6xMRY0DGKc9QlcVoXxLqj1/h0AOEsgUuFAh0Uv8EhtExrglwLoeBNdGtwp3VhWhFE7VG/8Bbas4hltCZMUkHQKkpYhT/xqJtwFyhQkP9QmEMUKBE9SIR6ie5pFU7vjBgahf3aGnzCcx9AIqJbiO0rfsanbyAUZrxR4c/YvvK3fW0dH3+gxwmGzWH7plHxHvYhMlEFIRe1Bh/w6Qb4oW/+RxzcnaCVjYtf3VwItuwNOnYPQ2kVxDLHcA67MV1YNEGsGJ9A2nGbFv8L3sxDVwEWftwrPI8JDPHpM/CjQkt5BJGIIoiXGAqtQEc4kQZrVhh5QwE8t/ckbBSCCyIWI7IQtw73EkZ49a+ZfxbVOjRBoyyRGIoSfvsY82+lTGHg8XSQccD6I8V8v4CwYa/pwEvGXxzDQ3iErW4ELWBdj9tNxjFJioHiCgQCR9965O0WTZkO+0AiRCPlsknHM6FtBToCUpjFZd40LQq6r/Ul7ktHedGtg84HAkADpwJH4G5UaJdb3MiJhLiHoqulg7QKQ9MtTmhqRT6F+da9n8qKvQWx6ZBTp0GY7rgfYhw/4k0U0Sgf0L24D/R0LmoXrWXs+H4zZilIlFufFbsjb+Lfh6xhq3W5UROcd9AdN1eMPfr8EXPUrWcUP1BjcYTEUzjumQatGRLiJYjN8ew4vFWHswNgoN0Ifr6O2KQplzpL4M4FWqFqNBgUKMSglIOfhRSUo1oGeyBlffqnAInIDbSwoeubac69uLaSCt3rEBIjFsRaR7nwTdpNSUa1Zizjm/+qeU0Cu3KO7lHRIokDrnutweOJz11uIcusAztwrpuiP+OEz25oa3N2e3ZlypZ0zFEPjlmNoIFIEAfrqKAPz4H7uXuB0/RfYVkJJzq7hbFuViNoIrOQRdZhVnPwxxkvqL8YQhz0DRpAZKYaqiirzBbE3rhywVv2BYO+Es/EdWApQ8E2RISu4WZDLe29YsG3kP4C5aX5nnt0ISXEBCM29RPOJsZi1jX0+VbCF2Qyd9xRwTf8KU4yc5VozvoCdiEC6ke8J7OuQcEOt3NnCUIHnjdiFoSJdLJuY5kwxHJbfYoMZ2GWxDLgWcjKnAuSuiqzYrGEVGi3JQxH52EjwxLmH9Mlk3ENTxA1R21BatrmmYaQmpVwYxynayh4VuksiG1Zsy7mQJTvuZfQVTXpBVwXtjbXVTUpOVbpbiGzW5ae2zgEJtSyVLrFZzcPHsZCGIlV3cdsgiMclzXrQo7ulHVoCngMnswYcyym795PugvSuyXI2Z2zDkPp3bFzgxFGI3AXpJgaVBVwfOeso2ZVHtnZjpyXp5rEsBA11aqkk/4qYKcqR96PmOQhjyKOIGXj+YnEOpzmUOKjM9EnIMDO7ZcQEY7LalrIEUjoea+r9UfJwnTbkcunkx2Rpd8FLcx25pvQJj6L3VZJjBIiwxdEuW8HuMFq632H72I3+aQVA4mF/AUS2nZXQld1zQUc31iREgmOIBX9nggXRE+CzpPz0Mt5PNfl0lx7T2wlzkLyLaQn6BD1zFl7W5/DLeeZCIMZ5X7POFFWRQ+yBQDtWEc9vz8K5GrkbiuChSj4ojt0kNCHp9AO+yFXHordVi+GhUzoRGQtTbUyGIyz8V/ithRVJHKCYyEVSEkvyHG0fYASt8UIhNwFuRKmG8y8ecoOvYIH/EV6rojc1qX7+50FsSdSAZf7icUI2YnPg+O2FK9wGndO/TN0F9HOLBEct8W0Jq4gJ9BFzGr13VR7OVhu6xI+AgOeIBdQcWfbot8kdb1aXZxros1Be8wgwNFtFX+gNTFgCaJbhrCQZAUxCCAGsUqbSXmL6FzcVsEPu1OVZ5IlJBdTQQAxaKFbQbuIN1hbFlzc1hV/zJJGkPB9j+nAQ4jRXOjGXUR3tTCdX0kqU6QRJGTqWov7AJ749k12p9bwxovMZZ90w2ft3KUDyOZekghiN1P6TA7V7Eu2Vjexu3v1XpTb07EFPGMvEbogUacttaJGKCBVHwJUCUGevtYt8YlvNYXr4jjF3HVh7K1oti/R2xyqxstH0irawcszLcOGl65rs6pQ1UFpTsbs0iqXvPUMzuER94bardy6wTz1qfyQXBBNo7qbXtE33ZFWthx4sIrTtr/gtHxxkTJ9bT79m3+tE2x5PjdOvcGW9a/12/dxnBMwD2WtQrbNWrtI3/GNAH9BXtHynu3i3ZxoowUCVUJlVxUKQZjyTHt04d+jmYeIpOTnEb58efQqpNME60NsDcOnqS+Ajh23jnxSSwknSF0wxvjrIV7EUeyLsF9vsY0BwiDyJJju1w5SFDELGmVNlWA10VLg2um2o9aLJgaQfuE2heE46DuJ1djCl4mdXRfXfLONwiQjzs27Ri/2szZof4UWQbW6vusmep3wu/BTxXEKKS8rVlzXbp+V3zI3fB3a37awiGizk9EGhgEqSHeVqFPF0XJZdMKmXmHywVVExrHn7ZOkToRlvbuFTrM/hGHsFS3Jcll2O5tbBdMu4VH0WULS5KJNs7y1303YfXTavw/PU1YmbSfbayphx6+RJacCU81aNMnkQyuC1Ni5Eb2zqoQuUH+JzAMYRV/9OIdWBanpgMVUoHcWtyhETScEqbFpkQGtkcpfvdotqHpdnzr/WbOKUsyXi12hEN/CuG1rmEVnBWlCs4r/2G9c65NAJZX6ULSZf9qSKvpttuBVePM/096W7zAh2EEBMplMJpPJZDKZTCaTyXSZ/wErhCUH7qTczgAAAABJRU5ErkJggg=="},d7d7:function(t,e,s){},e029:function(t,e,s){},e857:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.MainTweetPostModalSwitch,expression:"MainTweetPostModalSwitch"}],staticClass:"modal-background",on:{click:t.clickModalBackground}},[a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"close-icon",on:{click:t.ciickClose}},[a("img",{staticClass:"close",attrs:{src:s("98f5"),alt:""}})])]),a("div",{staticClass:"modal-txt"},[a("div",{staticClass:"modal-content-post"},[a("div",{staticClass:"modal-main-tweet"},[a("div",{staticClass:"user-icon-wrapper"},[a("img",{staticClass:"user-icon",attrs:{src:t.currentUser.avatar,alt:""}})]),a("div",{staticClass:"modal-main-tweet-txt"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.teweetContent,expression:"teweetContent"}],staticClass:"modal-textarea",attrs:{placeholder:"有甚麼新鮮事?"},domProps:{value:t.teweetContent},on:{input:function(e){e.target.composing||(t.teweetContent=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.contentError,expression:"contentError"}],staticClass:"modal-info"},[t._v(" "+t._s(t.errorContentMessage))])]),a("button",{staticClass:"modal-main-tweet-button",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._v(" "+t._s(t.submitMessage)+" ")])])])])])])])},n=[],r=s("1da1"),i=s("5530"),o=(s("96cf"),s("498a"),s("7482")),c=s("2fa3"),l=s("2f62"),u={name:"MainTweetPostModal",props:{MainTweetPostModalSwitch:{type:Boolean,required:!0}},data:function(){return{teweetContent:"",contentError:!1,errorContentMessage:"",avatar:"",submitMessage:"推文",isProcessing:!1}},computed:Object(i["a"])({},Object(l["b"])(["currentUser","isAuthenticated"])),methods:{ciickClose:function(){this.$emit("after-click-close")},clickModalBackground:function(t){var e=t.target;"modal-background"===e.className&&this.$emit("after-click-background")},handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.teweetContent,0!==s.trim().length){e.next=7;break}return t.contentError=!0,t.errorContentMessage="內容不可以空白",e.abrupt("return");case 7:if(!(s.length>140)){e.next=11;break}return t.contentError=!0,t.errorContentMessage="字數不可超過140字",e.abrupt("return");case 11:t.contentError=!1,t.errorContentMessage="";case 13:return e.prev=13,t.isProcessing=!0,t.submitMessage="請稍後..",a='{\n          "description":"'.concat(s,'"\n        }'),n=JSON.parse(a),e.next=20,o["a"].postTweet({data_JSON:n});case 20:if(r=e.sent,"success"===r.data.status){e.next=23;break}throw new Error;case 23:c["a"].fire({icon:"success",title:"發送成功!"}),t.ciickClose(),t.$emit("after-tweet-post"),t.teweetContent="",t.isProcessing=!1,t.submitMessage="推文",e.next=36;break;case 31:e.prev=31,e.t0=e["catch"](13),c["a"].fire({icon:"error",title:"無法送出推文,請稍後"}),t.isProcessing=!1,t.submitMessage="推文";case 36:case"end":return e.stop()}}),e,null,[[13,31]])})))()}}},d=u,p=(s("800e"),s("2877")),w=Object(p["a"])(d,a,n,!1,null,"4086a73d",null);e["a"]=w.exports},fa11:function(t,e,s){"use strict";s("e029")},fb62:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"menu"},[a("div",{staticClass:"logo-wrapper"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:s("a896"),alt:""}})])],1),a("nav",{staticClass:"menu-nav"},[a("ul",{staticClass:"menu-nav-wrapper"},[a("li",{staticClass:"menu-nav-link"},[a("router-link",{staticClass:"menu-link",attrs:{to:"/main"}},[a("i",{staticClass:"bx bxs-home-circle"}),a("span",{staticClass:"menu-link-title"},[t._v(" 首頁 ")])])],1),a("li",{staticClass:"menu-nav-link"},[a("router-link",{staticClass:"menu-link",attrs:{to:{name:"user",params:{id:t.currentUserId}}}},[a("i",{staticClass:"bx bx-user"}),a("span",{staticClass:"menu-link-title"},[t._v(" 個人資料 ")])])],1),a("li",{staticClass:"menu-nav-link"},[a("router-link",{staticClass:"menu-link",attrs:{to:"/publicmessage"}},[a("svg",{staticClass:"svg-icon",attrs:{viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M17.388,4.751H2.613c-0.213,0-0.389,0.175-0.389,0.389v9.72c0,0.216,0.175,0.389,0.389,0.389h14.775c0.214,0,0.389-0.173,0.389-0.389v-9.72C17.776,4.926,17.602,4.751,17.388,4.751 M16.448,5.53L10,11.984L3.552,5.53H16.448zM3.002,6.081l3.921,3.925l-3.921,3.925V6.081z M3.56,14.471l3.914-3.916l2.253,2.253c0.153,0.153,0.395,0.153,0.548,0l2.253-2.253l3.913,3.916H3.56z M16.999,13.931l-3.921-3.925l3.921-3.925V13.931z"}})]),a("span",{staticClass:"menu-link-title"},[t._v(" 公開聊天室 ")])])],1),a("li",{staticClass:"menu-nav-link"},[a("router-link",{staticClass:"menu-link",attrs:{to:"/setting"}},[a("i",{staticClass:"bx bx-cog"}),a("span",{staticClass:"menu-link-title"},[t._v(" 設定 ")])])],1),a("li",{staticClass:"menu-nav-post"},[a("button",{staticClass:"menu-nav-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.clickPostModal.apply(null,arguments)}}},[t._v(" 推文 ")])])]),a("ul",{staticClass:"menu-nav-wrapper"},[a("li",{staticClass:"menu-nav-link",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.clickLogout.apply(null,arguments)}}},[a("router-link",{staticClass:"menu-link",attrs:{to:"/#"}},[a("i",{staticClass:"bx bx-log-out"}),a("span",{staticClass:"menu-link-title"},[t._v(" 登出 ")])])],1)])]),a("MainTweetPostModal",{attrs:{MainTweetPostModalSwitch:t.MainTweetPostModal},on:{"after-click-close":t.afterClickClose,"after-click-background":t.afterClickClose,"after-tweet-post":t.afterTweetPost}})],1)},n=[],r=s("5530"),i=s("e857"),o=s("2f62"),c={namd:"Menu",components:{MainTweetPostModal:i["a"]},data:function(){return{MainTweetPostModal:!1,currentUserId:-1}},computed:Object(r["a"])({},Object(o["b"])(["currentUser","isAuthenticated"])),created:function(){this.currentUserId=this.currentUser.id},methods:{clickPostModal:function(){this.MainTweetPostModal=!0},afterClickClose:function(){this.MainTweetPostModal=!1},afterTweetPost:function(){this.$emit("after-tweet-post")},clickLogout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},l=c,u=(s("27c2"),s("2877")),d=Object(u["a"])(l,a,n,!1,null,"1aa6b11a",null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-79053390.cb01b44b.js.map