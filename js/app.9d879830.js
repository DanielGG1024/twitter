(function(e){function t(t){for(var s,n,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)n=c[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},r={app:0},o=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0638c398":"d1530c30","chunk-2ce514c5":"3544619a","chunk-2d0e5e97":"7f48eb61","chunk-34672f9b":"9c8ae6ba","chunk-355d4d1b":"0b2739e5","chunk-3a871beb":"7475ac8e","chunk-928b5148":"fef2e0b4","chunk-93d49aa0":"c4916980","chunk-be9d93a8":"361d9c9d","chunk-c65a1d0a":"d5b95192","chunk-d29993cc":"eb6ca3ae","chunk-34f4fee2":"0a74b847","chunk-4c77938a":"2372d20e","chunk-5020238e":"89b48440","chunk-ff6c5498":"ff8e73a0"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={"chunk-0638c398":1,"chunk-2ce514c5":1,"chunk-34672f9b":1,"chunk-355d4d1b":1,"chunk-3a871beb":1,"chunk-928b5148":1,"chunk-93d49aa0":1,"chunk-be9d93a8":1,"chunk-c65a1d0a":1,"chunk-d29993cc":1,"chunk-34f4fee2":1,"chunk-4c77938a":1,"chunk-5020238e":1,"chunk-ff6c5498":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-0638c398":"975a5173","chunk-2ce514c5":"912a4f8e","chunk-2d0e5e97":"31d6cfe0","chunk-34672f9b":"abd5d76e","chunk-355d4d1b":"99cacc07","chunk-3a871beb":"21b37511","chunk-928b5148":"2f2c0469","chunk-93d49aa0":"d9f47ace","chunk-be9d93a8":"9b18bb65","chunk-c65a1d0a":"7f639cd3","chunk-d29993cc":"831cc96f","chunk-34f4fee2":"d214e8c6","chunk-4c77938a":"400ad0e1","chunk-5020238e":"d730008d","chunk-ff6c5498":"5e03dbd0"}[e]+".css",r=i.p+s,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===r))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===s||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var s=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete n[e],f.parentNode.removeChild(f),a(o)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){n[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,a){s=r[e]=[t,a]}));t.push(s[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var a=r[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,a[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/twitter-front-end-vue/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"02e3":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"07d4":function(e,t,a){"use strict";a("39d7")},1602:function(e,t,a){"use strict";var s=a("2fa3"),n=function(){return localStorage.getItem("token")};t["a"]={getUser:function(e){var t=e.userId;return s["b"].get("users/".concat(t),{headers:{Authorization:"Bearer ".concat(n())}})},getCurrentUser:function(){return s["b"].get("users/get-current-user",{headers:{Authorization:"Bearer ".concat(n())}})},putUser:function(e){var t=e.userId,a=e.JSON_data;return console.log("api-JSON_data:",a),s["b"].put("users/".concat(t,"/setting"),a,{headers:{Authorization:"Bearer ".concat(n())}})}}},"1b07":function(e,t,a){},2375:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],r=(a("be95"),a("2877")),o={},c=Object(r["a"])(o,s,n,!1,null,"a6d74898",null);t["a"]=c.exports},2708:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var s=a("c1df"),n=a.n(s),r={filters:{fromNow:function(e){return e?n()(e).fromNow():"-"},fromYear:function(e){return e?n()(e).format("YYYY年MM月DD日"):"-"},fromNowWithWord:function(e){var t=n()(e).format("a");return"pm"===t?t="下午":"am"===t&&(t="上午"),t+n()(e).format("h:mm")}}},o={filters:{emptyImage:function(e){return e||"https://via.placeholder.com/350x220/DFDFDF?text=No+Image"}}}},2797:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.ReplyModalSwitch,expression:"ReplyModalSwitch"}],staticClass:"modal-background",on:{click:e.clickModalBackground}},[s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"close-icon",on:{click:e.clickClose}},[s("img",{staticClass:"close",attrs:{src:a("98f5"),alt:""}})])]),s("div",{staticClass:"reply"},[s("div",{staticClass:"reply-icon-wrapper"},[s("img",{staticClass:"user-icon",attrs:{src:e.tweet.User.avatar,alt:""}})]),s("div",{staticClass:"txt-wrapper"},[s("div",{staticClass:"txt-info"},[s("span",{staticClass:"user-name"}),s("span",{staticClass:"user-account"},[e._v("＠"+e._s(e.tweet.User.account)+" "),s("span",[e._v("．"+e._s(e._f("fromYear")(e.tweet.createdAt)))])])]),s("div",{staticClass:"txt"},[s("p",[e._v(" "+e._s(e.tweet.description)+" ")])]),s("div",{staticClass:"txt-footer"},[s("span",{staticClass:"txt-footer-reply"},[e._v("回覆給")]),s("span",{staticClass:"footer-account"},[e._v("＠"+e._s(e.tweet.User.account))])])])]),s("div",{staticClass:"modal-txt"},[s("div",{staticClass:"modal-content-post"},[s("div",{staticClass:"modal-main-tweet"},[s("div",{staticClass:"user-icon-wrapper"},[s("img",{staticClass:"user-icosn",attrs:{src:e.currentUser.avatar,alt:""}})]),s("div",{staticClass:"modal-main-tweet-txt"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.teweetContent,expression:"teweetContent"}],staticClass:"modal-textarea",attrs:{placeholder:"有甚麼新鮮事?"},domProps:{value:e.teweetContent},on:{input:function(t){t.target.composing||(e.teweetContent=t.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.contentError,expression:"contentError"}],staticClass:"modal-info"},[e._v(e._s(e.errorContentMessage))])]),s("button",{staticClass:"modal-main-tweet-button",attrs:{disabled:e.isProcessing},on:{click:function(t){return e.handleSubmit(e.tweet.TweetId)}}},[e._v(" "+e._s(e.submitMessage)+" ")])])])])])])])},n=[],r=a("1da1"),o=a("5530"),c=(a("96cf"),a("498a"),a("7482")),i=a("2fa3"),u=a("2f62"),l=a("2708"),d={name:"ReplyModal",mixins:[l["b"]],props:{ReplyModalSwitch:{type:Boolean,required:!0},tweet:{type:Object}},data:function(){return{teweetContent:"",contentError:!1,errorContentMessage:"",isProcessing:!1,submitMessage:"推文"}},computed:Object(o["a"])({},Object(u["b"])(["currentUser","isAuthenticated"])),methods:{clickClose:function(){this.$emit("after-click-close")},clickModalBackground:function(e){var t=e.target;"modal-background"===t.className&&this.$emit("after-click-background")},handleSubmit:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.teweetContent,0!==s.trim().length){a.next=7;break}return t.contentError=!0,t.errorContentMessage="內容不可以空白",a.abrupt("return");case 7:if(!(s.length>140)){a.next=11;break}return t.contentError=!0,t.errorContentMessage="字數不可超過140字",a.abrupt("return");case 11:t.contentError=!1,t.errorContentMessage="";case 13:return a.prev=13,t.isProcessing=!0,t.submitMessage="請稍後..",n='{\n          "comment":"'.concat(s,'"\n        }'),r=JSON.parse(n),a.next=20,c["a"].postTweetReply({tweetId:e,data_JSON:r});case 20:if(o=a.sent,"success"===o.data.status){a.next=23;break}throw new Error;case 23:t.$emit("after-tweetReply-post"),i["a"].fire({icon:"success",title:"發送成功!"}),t.teweetContent="",t.isProcessing=!1,t.submitMessage="推文",a.next=35;break;case 30:a.prev=30,a.t0=a["catch"](13),i["a"].fire({icon:"error",title:"無法回復,請稍後"}),t.isProcessing=!1,t.submitMessage="推文";case 35:case"end":return a.stop()}}),a,null,[[13,30]])})))()}}},f=d,p=(a("30da"),a("2877")),m=Object(p["a"])(f,s,n,!1,null,"7e161c62",null);t["a"]=m.exports},"2fa3":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u}));var s=a("bc3a"),n=a.n(s),r=a("3d20"),o=a.n(r),c="https://tranquil-crag-64775.herokuapp.com/api/",i=n.a.create({baseURL:c}),u=o.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})},"30da":function(e,t,a){"use strict";a("e722")},"378b":function(e,t,a){"use strict";a("7d77")},"39d7":function(e,t,a){},"3b8f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"popular"},[a("div",{staticClass:"popular-wrapper"},[e._m(0),e._l(e.users,(function(t){return a("PopularItem",{key:t.id,attrs:{user:t,currentUserId:e.currentUserId}})}))],2)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"popular-title-wrapper"},[a("div",{staticClass:"title"},[e._v("Popular")])])}],r=a("5530"),o=a("1da1"),c=(a("96cf"),a("2fa3")),i=a("7482"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one-popular-wrapper"},[a("div",{staticClass:"one-popular"},[a("router-link",{attrs:{to:{name:"user",params:{id:e.oneUser.id}}}},[a("div",{staticClass:"user-icon-wrapper"},[a("img",{staticClass:"user-icon",attrs:{src:e.oneUser.avatar,alt:""}})])]),a("div",{staticClass:"popular-txt"},[a("span",{staticClass:"popular-title"},[e._v(e._s(e.oneUser.name))]),a("a",{staticClass:"popular-link",attrs:{href:""}},[e._v("@"+e._s(e.oneUser.account))])]),a("div",{staticClass:"popular-follow"},[e.oneUser.id!==e.currentUserId?[e.oneUser.isFollowed?a("button",{staticClass:"popular-follow-btn btn-active",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.deleteFollow(e.oneUser.id)}}},[e._v(" "+e._s(e.deleteFollowMessage)+" ")]):a("button",{staticClass:"popular-follow-btn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.addFollow(e.oneUser.id)}}},[e._v(" "+e._s(e.addFollowMessage)+" ")])]:e._e()],2)],1)])},l=[],d=(a("a9e3"),{props:{user:{type:Object},currentUserId:{type:[Number,String]}},data:function(){return{oneUser:{},isProcessing:!1,deleteFollowMessage:"正在跟隨",addFollowMessage:"跟隨"}},created:function(){this.fetchPopulatItem()},methods:{fetchPopulatItem:function(){this.oneUser=this.user},deleteFollow:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,t.deleteFollowMessage="請稍後..",s=e,a.next=6,i["a"].removeFollow({userId:s});case 6:if(n=a.sent,200===n.status){a.next=9;break}throw new Error;case 9:t.oneUser=Object(r["a"])(Object(r["a"])({},t.oneUser),{},{isFollowed:!1}),t.isProcessing=!1,t.deleteFollowMessage="正在跟隨",a.next=19;break;case 14:a.prev=14,a.t0=a["catch"](0),t.isProcessing=!1,t.deleteFollowMessage="正在跟隨",c["a"].fire({icon:"error",title:"無法取消追蹤使用者,請稍後"});case 19:case"end":return a.stop()}}),a,null,[[0,14]])})))()},addFollow:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,o,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e,n='{\n        "id":"'.concat(s,'"\n      }'),o=JSON.parse(n),a.prev=3,t.isProcessing=!0,t.addFollowMessage="請稍後..",a.next=8,i["a"].addFollow({data_JSON:o});case 8:if(u=a.sent,200===u.status){a.next=11;break}throw new Error;case 11:t.oneUser=Object(r["a"])(Object(r["a"])({},t.oneUser),{},{isFollowed:!0}),t.isProcessing=!1,t.addFollowMessage="跟隨",a.next=21;break;case 16:a.prev=16,a.t0=a["catch"](3),t.isProcessing=!1,t.addFollowMessage="跟隨",c["a"].fire({icon:"error",title:"無法追蹤使用者,請稍後"});case 21:case"end":return a.stop()}}),a,null,[[3,16]])})))()}}}),f=d,p=(a("fa11"),a("2877")),m=Object(p["a"])(f,u,l,!1,null,"10622a20",null),h=m.exports,b=a("2f62"),w={name:"Popular",components:{PopularItem:h},data:function(){return{currentUserId:-1,users:"",isProcessing:!1,PopularItem:h}},created:function(){this.fetchTopUsers(),this.currentUserId=this.currentUser.id},methods:{fetchTopUsers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].getTopUser();case 3:a=t.sent,s=a.data,e.users=s,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),c["a"].fire({icon:"warning",title:"無法取得前十"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},computed:Object(r["a"])({},Object(b["b"])(["currentUser","isAuthenticated"]))},v=w,g=(a("07d4"),Object(p["a"])(v,s,n,!1,null,"83fa56de",null));t["a"]=g.exports},4167:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMISURBVHgB7ZlRbtpAEEBn1pCvKuUGsRXyH05QOEHpX1WllKgHSDlB4ARJT1BCoqp/5QZxT9D8B4T56W/9HcDTWacIYq/N2hjiSDwJIYb1emY8s7szBtixY8eLBpMMHpn1EhReHfNl8lPyhUQOzCa25fxwEkzFc703oVisAqG5kHq2NbixIQFaBkjFRWH/jAC+8M+SehTZRHBlDa+7sXOVT6oIeM63rkYMcRGp700mHR2nrDRgfNj4RAiXEKl4YEKkrjcxWpbTdZflvhOM1xeE1NSZBwgcAuqsckisAeNy45y93oakyJvPHmpzD8pwQWPvlu9mQkJYwfbBoNeJ+V/N+KhxxiFxCWnxjRAVjghAY/93GuUXU1HLGlwrdVEa4HussDeCtaE+EriE2IT1cGn6UFHlREE1WhhFGToZgHVKtM5FUsJC8Rt/10J3CAqy8372EHi14DIrgoOk9yGvkKgHRSEDOF6PIacgwpugTCjG5dYAUOj2xICR2TQh5/yxPh8s/xbwwgmtQk65kc0KuiHMQe+JzuEnwDso5Bc3KAgbgHw8zi10F5SEl1HAX5BTVLopktizIbeEdVOeVDiR/4Lm+X9rcG6aw54VFAv1WPgKOQMF2iq5eh+YivR1wIbwJqgsapQGPJaDZENOQMQu6+So/ovciWlqnEJOiPK+JNIAaTGXlM+eC3Hel8SfhWaiDYrdb2vwyhPnfUmsATIXuA3SgmfCb6vEeF+iVbE65Y8/ZX0LW0SGzsH91co81DpO+wm9zUOeRujM0e4ZjI4+HCMVbmHzOzS3UERlVejM0S5orPvvd0Sbzwci71RXeUmiikz2KfmYofVo0yDntoY3/STXpGo7jcqNNl+YafvFV37Qa0NCUvfNsjQirfKStRp/WRgR17jVYe3O5ejwpI4gLlJ0n11uFb5L+kYmSCatV9lPQsNL0P/ntzm8tyRZbaLIpnf8H42Qcv3jwRohEyRTAyR+d8/w2tzHfAuLTc/1qzwulIKvntYlcwOWkS/0AD0XJntO1orv2LHjkX833CXiXlBIlQAAAABJRU5ErkJggg=="},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="4678"},"47ff":function(e,t,a){},"4fdd":function(e,t,a){"use strict";a("1b07")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("034f"),a("2877")),c={},i=Object(o["a"])(c,n,r,!1,null,null,null),u=i.exports,l=a("1da1"),d=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("caad"),a("b0c0"),a("2532"),a("8c4f")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[e._m(0),a("div",{staticClass:"login-form"},[a("form",{staticClass:"login",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"input-txt",class:{error:e.accountError,focus:e.showAccountFocus}},[a("label",{attrs:{for:"account"}},[e._v("帳號 ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{maxlength:"20",type:"text",name:"account",id:"account"},domProps:{value:e.account},on:{focus:e.addFocusAccount,blur:e.removeFocusAccount,input:function(t){t.target.composing||(e.account=t.target.value)}}})]),a("div",{staticClass:"input-wrapper-info"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.accountError,expression:"accountError"}],staticClass:"error-info"},[e._v("帳號不能為空")]),a("div",{staticClass:"amount"},[e._v("5/50")])])]),a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"input-txt",class:{error:e.PasswordError,focus:e.showPasswordFocus}},[a("label",{attrs:{for:"password"}},[e._v("密碼 ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.password},on:{focus:e.addFocusPassword,blur:e.removeFocusPassword,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"input-wrapper-info"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.PasswordError,expression:"PasswordError"}],staticClass:"error-info"},[e._v("密碼不能為空")]),a("div",{staticClass:"amount"},[e._v("5/50")])])]),a("div",{staticClass:"button-wrapper"},[a("button",{staticClass:"form-submit-btn",attrs:{disabled:e.isProcessing,type:"submit"}},[e._v(" "+e._s(e.loginMessage)+" ")])])]),a("div",{staticClass:"other-link-wrapper"},[a("router-link",{attrs:{to:"/regist"}},[e._v("註冊Alphitter")]),a("span",[e._v("．")]),a("router-link",{attrs:{to:"/adminlogin"}},[e._v("後台登入")])],1)])])},p=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"logo-wrapper"},[s("img",{staticClass:"logo",attrs:{src:a("a896"),alt:""}})]),s("h2",{staticClass:"header-title"},[e._v("登入 Alphitter")])])}],m=(a("498a"),a("2fa3")),h=a("7696"),b={data:function(){return{account:"",password:"",accountError:!1,PasswordError:!1,showAccountFocus:!1,showPasswordFocus:!1,isProcessing:!1,loginMessage:"登入"}},methods:{addFocusAccount:function(){this.showAccountFocus=!0},removeFocusAccount:function(){this.showAccountFocus=!1},addFocusPassword:function(){this.showPasswordFocus=!0},removeFocusPassword:function(){this.showPasswordFocus=!1},handleSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.account.trim(),s=e.password.trim(),e.accountError=""===a,e.PasswordError=""===s,!e.accountError&&!e.PasswordError){t.next=7;break}return t.abrupt("return");case 7:return e.isProcessing=!0,e.loginMessage="請稍後...",t.next=11,h["a"].logIn({email:e.account,password:e.password});case 11:if(n=t.sent,r=n.data,"success"===r.status){t.next=15;break}throw new Error(r.message);case 15:localStorage.setItem("token",r.token),e.$router.push("/main"),t.next=32;break;case 19:t.prev=19,t.t0=t["catch"](0),t.t1=t.t0.response.data.message,t.next="Passwords did not match"===t.t1?24:"No such user found"===t.t1?26:28;break;case 24:return m["a"].fire({icon:"warning",title:"請輸入正確密碼"}),t.abrupt("break",30);case 26:return m["a"].fire({icon:"warning",title:"請輸入正確帳號"}),t.abrupt("break",30);case 28:return m["a"].fire({icon:"error",title:"無法登入,請稍後"}),t.abrupt("break",30);case 30:e.loginMessage="登入",e.isProcessing=!1;case 32:case"end":return t.stop()}}),t,null,[[0,19]])})))()}}},w=b,v=(a("90a0"),Object(o["a"])(w,f,p,!1,null,"202e80b7",null)),g=v.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-container"},[a("Menu",{on:{"after-tweet-post":e.afterTweetPost}}),a("main",{staticClass:"content"},[a("div",{staticClass:"content-post"},[e._m(0),a("MainTweetPost",{on:{"after-tweet-post":e.afterTweetPost}})],1),e.isLoading?a("Spinner"):a("MainTweets",{attrs:{allTweets:e.allTweets},on:{"after-tweetReply-post":e.afterTweetPost}})],1),a("Popular")],1)])},k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-header"},[a("span",{staticClass:"title"},[e._v("首頁")])])}],C=a("fb62"),j=a("3b8f"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-tweet"},[a("div",{staticClass:"user-icon-wrapper"},[a("img",{staticClass:"user-icon",attrs:{src:e.currentUser.avatar,alt:""}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mainTweetPost,expression:"mainTweetPost"}],staticClass:"main-tweet-txt",attrs:{name:"",id:"",value:"hello",placeholder:"有甚麼新鮮事?"},domProps:{value:e.mainTweetPost},on:{input:function(t){t.target.composing||(e.mainTweetPost=t.target.value)}}}),a("button",{staticClass:"main-tweet-button",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[e._v(" "+e._s(e.submitMessage)+" ")]),a("p")])},E=[],U=a("7482"),M=a("2f62"),P={name:"MainTweetPost",data(){return{mainTweetPost:"",avatar:"",isProcessing:!1,submitMessage:"推文"}},computed:{...Object(M["b"])(["currentUser","isAuthenticated"])},methods:{async handleSubmit(){const e=this.mainTweetPost;if(e.trim().length<1)m["a"].fire({icon:"warning",title:"內容不能為空白"});else if(e.length>140)m["a"].fire({icon:"warning",title:"內容不能超過140個字"});else try{this.isProcessing=!0,this.submitMessage="稍後";const t=`{\n          "description":"${e}"\n        }`,a=JSON.parse(t),s=await U["a"].postTweet({data_JSON:a});if(console.log("maintweetpost"),"success"!==s.data.status)throw new Error;m["a"].fire({icon:"success",title:"發送成功!"}),this.$emit("after-tweet-post"),this.mainTweetPost="",this.isProcessing=!1,this.submitMessage="推文"}catch{m["a"].fire({icon:"error",title:"無法送出推文,請稍後"}),this.isProcessing=!1,this.submitMessage="推文"}}}},T=P,y=(a("378b"),Object(o["a"])(T,x,E,!1,null,"7259580d",null)),R=y.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"chat",staticClass:"tweets scrollbar"},[e._l(e.allTweets,(function(t){return s("div",{key:t.TweetId,staticClass:"onetweet"},[s("div",{staticClass:"onetweet-user-icon-wrapper"},[s("router-link",{attrs:{to:{name:"user",params:{id:t.User.id}}}},[s("img",{staticClass:"user-icon",attrs:{src:t.User.avatar,alt:""}})])],1),s("div",{staticClass:"onetweet-txt-wrapper"},[s("div",{staticClass:"onetweet-txt-header"},[s("router-link",{attrs:{to:{name:"Reply",params:{id:t.TweetId}}}},[s("span",{staticClass:"user-title"},[e._v(e._s(t.User.name))]),s("span",{staticClass:"user-info"},[s("a",{staticClass:"user-link",attrs:{href:"#"}},[e._v(" ＠"+e._s(t.User.account))]),s("span",{staticClass:"user-link-time"},[e._v("．"+e._s(e._f("fromNow")(t.createdAt)))])])])],1),s("router-link",{attrs:{to:{name:"Reply",params:{id:t.TweetId}}}},[s("div",{staticClass:"onetweet-txt"},[e._v(" "+e._s(t.description)+" ")])]),s("div",{staticClass:"onetweet-footer"},[s("div",{staticClass:"chat"},[s("div",{staticClass:"onetweet-footer-icon"},[s("img",{staticClass:"chat-icon",attrs:{src:a("b74f"),alt:""},on:{click:function(a){return e.clickChatBtn(t.TweetId)}}})]),s("span",{staticClass:"footer-amount"},[e._v(e._s(t.RepliesCount))])]),s("div",{staticClass:"heart"},[s("div",{staticClass:"onetweet-footer-icon"},[t.isLiked?s("button",{attrs:{disabled:e.isProcessing},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.removeLike(t)}}},[s("img",{attrs:{src:a("4167"),alt:"heart-icon"}})]):s("button",{attrs:{disabled:e.isProcessing},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.addLike(t)}}},[s("img",{attrs:{src:a("b4af"),alt:"heart-icon"}})])]),s("span",{staticClass:"footer-amount"},[e._v(e._s(t.LikesCount))])])])],1)])})),s("ReplyModal",{attrs:{ReplyModalSwitch:e.ReplyModal,tweet:e.tweet},on:{"after-click-background":e.afterClickClose,"after-click-close":e.afterClickClose,"after-tweetReply-post":e.afterTweetReplyPost}})],2)},I=[],B=(a("7db0"),a("2797")),Q=a("2708"),S={name:"MainTweets",mixins:[Q["b"]],components:{ReplyModal:B["a"]},props:{allTweets:{type:Array,require:!0}},data:function(){return{ReplyModal:!1,tweet:{User:{avatar:""}},isProcessing:!1}},methods:{clickChatBtn:function(e){this.ReplyModal=!0,this.tweet=this.allTweets.find((function(t){return t.TweetId===e}))},afterClickClose:function(){this.ReplyModal=!1},afterTweetReplyPost:function(){this.ReplyModal=!1,this.$emit("after-tweetReply-post")},addLike:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,s=e.TweetId,a.next=5,U["a"].addLike({tweetId:s});case 5:if(n=a.sent,r=n.data,"success"===r.status){a.next=9;break}throw new Error(r.message);case 9:e.LikesCount+=1,e.isLiked=!0,t.isProcessing=!1,a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](0),t.isProcessing=!1,m["a"].fire({icon:"error",title:"無法喜歡,請稍後在試"});case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()},removeLike:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,s=e.TweetId,a.next=5,U["a"].removeLike({tweetId:s});case 5:if(n=a.sent,r=n.data,"success"===r.status){a.next=9;break}throw new Error(r.message);case 9:e.isLiked=!1,e.LikesCount-=1,t.isProcessing=!1,a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](0),t.isProcessing=!1,m["a"].fire({icon:"error",title:"無法取消喜歡,請稍後在試"});case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()}}},F=S,z=(a("4fdd"),Object(o["a"])(F,O,I,!1,null,"166e2e48",null)),J=z.exports,N=a("2375"),V={namd:"main",components:{Menu:C["a"],Popular:j["a"],MainTweetPost:R,MainTweets:J,Spinner:N["a"]},data:function(){return{isLoading:!0,allTweets:[],tweet:{}}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U["a"].getTweets();case 3:a=t.sent,s=a.data,e.allTweets=s,e.isLoading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.isLoading=!1,m["a"].fire({icon:"warning",title:"tweets錯誤唷"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},afterTweetPost:function(){this.fetchTweets()}}},H=V,X=(a("f8a2"),Object(o["a"])(H,A,k,!1,null,"aa0b3716",null)),_=X.exports,Y=a("5530"),L=a("1602");s["a"].use(M["a"]);var D=new M["a"].Store({state:{currentUser:{id:-1,name:"",email:"",account:"",avatar:"",role:""},isAuthenticated:!1,token:""},mutations:{setCurrentUser:function(e,t){e.currentUser=Object(Y["a"])(Object(Y["a"])({},e.currentUser),t),e.token=localStorage.getItem("token"),e.isAuthenticated=!0},revokeAuthentication:function(e){e.currentUser={},e.isAuthenticated=!1,localStorage.removeItem("token"),e.token=""}},actions:{fetchCurrentUser:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,o,c,i,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,L["a"].getCurrentUser();case 4:return s=t.sent,n=s.data,r=n.id,o=n.name,c=n.email,i=n.avatar,u=n.isAuthenticated,l=n.account,d=n.role,a("setCurrentUser",{id:r,name:o,email:c,avatar:i,role:d,account:l,isAuthenticated:u}),t.abrupt("return",!0);case 10:t.prev=10,t.t0=t["catch"](1),console.log("error",t.t0),console.error("can not fetch user information");case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()}},modules:{}});s["a"].use(d["a"]);var G=[{path:"/",name:"root",redirect:{name:"Login"}},{path:"/login",name:"Login",component:g},{path:"/regist",name:"Regist",component:function(){return a.e("chunk-2ce514c5").then(a.bind(null,"879c"))}},{path:"/main",name:"Main",component:_},{path:"/main/reply/:id",name:"Reply",component:function(){return a.e("chunk-34672f9b").then(a.bind(null,"b0c6"))}},{path:"/setting",name:"Setting",component:function(){return a.e("chunk-928b5148").then(a.bind(null,"4ef5"))}},{path:"/adminlogin",name:"AdminLogin",component:function(){return a.e("chunk-0638c398").then(a.bind(null,"23b1"))}},{path:"/adminMain",name:"AdminMain",component:function(){return a.e("chunk-ff6c5498").then(a.bind(null,"4c90"))}},{path:"/adminUser",name:"AdminUser",component:function(){return a.e("chunk-355d4d1b").then(a.bind(null,"6e65"))}},{path:"/publicMessage",name:"publicMessage",component:function(){return a.e("chunk-be9d93a8").then(a.bind(null,"5d05"))}},{path:"/user/:id/follower",name:"follower",component:function(){return Promise.all([a.e("chunk-d29993cc"),a.e("chunk-5020238e")]).then(a.bind(null,"7384"))}},{path:"/user/:id/following",name:"following",component:function(){return Promise.all([a.e("chunk-d29993cc"),a.e("chunk-34f4fee2")]).then(a.bind(null,"cc95"))}},{path:"/user/:id",name:"user",redirect:"/user/:id/tweetList",component:function(){return Promise.all([a.e("chunk-d29993cc"),a.e("chunk-4c77938a")]).then(a.bind(null,"1511"))},children:[{path:"tweetList",name:"tweetList",component:function(){return a.e("chunk-93d49aa0").then(a.bind(null,"9398"))}},{path:"replies",name:"replies",component:function(){return a.e("chunk-c65a1d0a").then(a.bind(null,"1904"))}},{path:"likes",name:"likes",component:function(){return a.e("chunk-3a871beb").then(a.bind(null,"c03c"))}}]},{path:"*",name:"Not-found",component:function(){return a.e("chunk-2d0e5e97").then(a.bind(null,"9703"))}}],W=new d["a"]({linkActiveClass:"active",routes:G});W.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,s){var n,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("token"),r=D.state.token,o=D.state.isAuthenticated,!n||n===r){e.next=7;break}return e.next=6,D.dispatch("fetchCurrentUser");case 6:o=e.sent;case 7:if(c=["Regist","Login","AdminLogin"],o||c.includes(t.name)){e.next=11;break}return s("/login"),e.abrupt("return");case 11:if(!o||!c.includes(t.name)){e.next=14;break}return s("/main"),e.abrupt("return");case 14:s();case 15:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}());var Z=W,K=(a("3357"),a("bc3a")),q=a.n(K),$=a("5132"),ee=a.n($),te=a("8e27"),ae=a.n(te);s["a"].prototype.$axios=q.a,s["a"].config.productionTip=!1,s["a"].use(new ee.a({debug:!0,connection:ae()("https://tranquil-crag-64775.herokuapp.com"),vuex:{store:D,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new s["a"]({router:Z,store:D,render:function(e){return e(u)}}).$mount("#app")},"61d8":function(e,t,a){},"73bc":function(e,t,a){},7482:function(e,t,a){"use strict";var s=a("2fa3"),n=function(){return localStorage.getItem("token")};t["a"]={postTweet:function(e){var t=e.data_JSON;return s["b"].post("tweets",t,{headers:{Authorization:"Bearer ".concat(n())}})},postTweetReply:function(e){var t=e.tweetId,a=e.data_JSON;return s["b"].post("tweets/".concat(t,"/replies"),a,{headers:{Authorization:"Bearer ".concat(n())}})},getTweets:function(){return s["b"].get("tweets",{headers:{Authorization:"Bearer ".concat(n())}})},getTweet:function(e){var t=e.tweetId;return s["b"].get("tweets/".concat(t),{headers:{Authorization:"Bearer ".concat(n())}})},getTweetReplies:function(e){var t=e.tweetId;return s["b"].get("tweets/".concat(t,"/replies"),{headers:{Authorization:"Bearer ".concat(n())}})},addLike:function(e){var t=e.tweetId;return s["b"].post("tweets/".concat(t,"/like"),null,{headers:{Authorization:"Bearer ".concat(n())}})},removeLike:function(e){var t=e.tweetId;return s["b"].post("tweets/".concat(t,"/unlike"),null,{headers:{Authorization:"Bearer ".concat(n())}})},addFollow:function(e){var t=e.data_JSON;return s["b"].post("followships",t,{headers:{Authorization:"Bearer ".concat(n())}})},removeFollow:function(e){var t=e.userId;return s["b"].delete("followships/".concat(t),{headers:{Authorization:"Bearer ".concat(n())}})},getTopUser:function(){return s["b"].get("users/top",{headers:{Authorization:"Bearer ".concat(n())}})}}},7696:function(e,t,a){"use strict";var s=a("2fa3");t["a"]={logIn:function(e){var t=e.email,a=e.password;return s["b"].post("users/login",{email:t,password:a})},regist:function(e){var t=e.data_JSON;return s["b"].post("users",t)}}},"7d77":function(e,t,a){},"800e":function(e,t,a){"use strict";a("d7d7")},"85ec":function(e,t,a){},"90a0":function(e,t,a){"use strict";a("02e3")},"98f5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVHgBxdfLEYIwEAbgf6nAEuxMPOjdDijBsx6MldmCHWCCBHmEZDdsxj0AG5Z8M5lkZwD+FOQu7RkHtLja7G3Thm54okCMHQ+/7G0/qqm18Q4FjM+r7yh2szrTFxZBfzBwCdSr4CHUBQ0FJ9Q2ewS+zV72NdSu8JEmuSIeRe8wtBhXwFOoe6TghxtwDroK5+JcNApLcQmahLm4FGXBKby/GwhQNpzAIUVFMBtnoGI4iTNRFxWkQXb6nHeLUkGs7t5psDocf3PxUDbOO06Rc9rPIm6v6QbCaA457ZW2osOQECcNNAcnLVSKkyYqwUkb5eJUAmXhpdAU7nt1gwKoi24O32gW8PxPQgmN4R+H8M/Gca8TfQAAAABJRU5ErkJggg=="},a896:function(e,t){e.exports="data:image/png;base64,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"},b4af:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgBvVbNThNRFD7nTmdqDIvyBuUJKBvjxtgm7i1LV9ZYjTtKolgwpG0IUnBB2RHAMOzcgTtXtiSuTd+A8Qnsks4wczznTqeWOrQV0C+Z3Dt35n7fOXfOzwD8J+DwQqFUTSnTzCcUzsp9QPDjQrkndr3qxBHI+wnLKhiIswTU8ck//bi1ejJS6OXSWj5A45AXUzE22V63u2g3qp1IwEpaFQIoxeg7bGFt/8M7+w+h4tJGBZGqEamPwamCwEFSeQT1mK1NC4HXdefgTjJlEh3zfYavDiHtUBC0Q0IjjwhP9Zywure1XOsLiSeExnG4yZ8/qK+2Bs17Vd5I+wEToyaWZ+Jxhje373bdXKPnZYQXb9YzoLAp7zFfTviUPCBMbIeO0OKwiGC3vux4rpsDArE62xNx4kQEfGRtMTikNA71WHy9lkXDEPXW/uZKDkZAe0Z0JnMD3ZndKwKk79nb98KbFa8UKJXVXhF8hjEQz9jEZ3KNE7nEGRiZRLQYEHVgAuzXf0fSWCHwHQ4OmaUU/EMQqX6aKE5IRyaG0hF1q1AIaRlRgaPYsXa4HFaC2wQiPtQTH9o6jzg6fvKQ4mSctmPC9ToocIRyUp9JGuxtrsyEeUS0I6NlmSW4JSSIFiAkP5JBC124XgN0VcAFqWFwQ4g3CJjXAsqz+0JyXD2vUmYyuQ03hElQAV0baSfKt354i1dsBS9S4TnXPrgmuM4VhEO+jYH6pDQutYlimcsR6XLU8dCdsyfI/kGEAQBN7Q1Xj8HkvpSwUlAD6B0hWc2/+V6DItxuasMVBOM2RcWQN7W9rpcbF/JikJm0ZE+GG2HrIKY4x5Ygzqf5sCVgxkyazUK5moZRnvREpD9Nyd4YIIyy0mKCsNk5/M1yw9+swA3OVOpYH9cVTXCsUCTG/wWHfBw6CqPWrNet5EKAVELdReFo6twtNUYc8UihCMXyepVFKjJn0U5vowQK5x/UDrZWGuM4DJgA3799bd178OiIK/00/3jcZ5FzlvrEXfbJ3ubql0k4fgFTX2blSSTp7wAAAABJRU5ErkJggg=="},b74f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKcSURBVHgBtVZdbtpAEJ6xCUHlofQGzglKbuDcoDlBjQSobwGpBUQU4YgWKH0IvFUQqXCC5gbhBqEnqG9QPwb8M51d44gSI0xwPwm87C7z7czszGeEHTAqZi4DkHNTqha1nnI96/vAtHbZwW3G0+njC0LS+acO8TADn6bjb5eTWETFj20d1dQPANJWUxZ/5rzVjjJAvI+N5HmYe9rv0zkTzrcSFWvdFiKZq6UJoTu97V3NIAaKjbYOvmogwnv5bwWMUbc5fUZU+vTFAAXZE7ABqTruRYdgJ2HtcwVRuRFjQu8sPKgkMhpd7YjgXoQLyTsf9a/u4ACUGnxokoe2nMXydDIwbUUsMEkryAlODiURENFgD4QdLZ0+qog5ZbWmiy8VF9eQEMgnaYsQg5xxbvKcmwcez8Zfm2eQIEq1zgMnJ8/he6P46GurM/yChEEA0mYqo+YVIkXefyKw4T8izBHw/c9BwmCbr5+IVFn1cvotJA0CTTzcR28u66hU7/zhR04kTdx5SABBbdJvHs75kp3K0BHRUDzTx5kWJISgNhkY2JZE7tIZIKBF4FfK3O/gQJRr7Xd8fIPDZWUfHdkA1nudqCduQ5BDQnO5XAxfEkaD7aTYDopujlQIe+Y/3VuQoaL8pEAiLF6ekedOuUnaquPYuwSuVO9dcFRMQcIqcD3qXZrh2jM9+sBJdH0yw3a/gcjuIYXyON3iApV9jWuyettvDtb3RCpsSOiBr/MVzRNffQz6ocVEJ+v71oVS5MRHrxClYVuJNsElQOtEm14w0TC7cMzBlrym4AUIvVjl0mYNK+ySFwX2RLneuUFVvQ/0S7nLLpYncTRsX480ESqRCyCvOuo3Y4vk3h6JXLxied5XieN7xMXHNWLFfSvaxF+amCCyjEpAPQAAAABJRU5ErkJggg=="},be95:function(e,t,a){"use strict";a("47ff")},d7d7:function(e,t,a){},e029:function(e,t,a){},e722:function(e,t,a){},e857:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.MainTweetPostModalSwitch,expression:"MainTweetPostModalSwitch"}],staticClass:"modal-background",on:{click:e.clickModalBackground}},[s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"close-icon",on:{click:e.ciickClose}},[s("img",{staticClass:"close",attrs:{src:a("98f5"),alt:""}})])]),s("div",{staticClass:"modal-txt"},[s("div",{staticClass:"modal-content-post"},[s("div",{staticClass:"modal-main-tweet"},[s("div",{staticClass:"user-icon-wrapper"},[s("img",{staticClass:"user-icon",attrs:{src:e.currentUser.avatar,alt:""}})]),s("div",{staticClass:"modal-main-tweet-txt"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.teweetContent,expression:"teweetContent"}],staticClass:"modal-textarea",attrs:{placeholder:"有甚麼新鮮事?"},domProps:{value:e.teweetContent},on:{input:function(t){t.target.composing||(e.teweetContent=t.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.contentError,expression:"contentError"}],staticClass:"modal-info"},[e._v(" "+e._s(e.errorContentMessage))])]),s("button",{staticClass:"modal-main-tweet-button",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[e._v(" "+e._s(e.submitMessage)+" ")])])])])])])])},n=[],r=a("1da1"),o=a("5530"),c=(a("96cf"),a("498a"),a("7482")),i=a("2fa3"),u=a("2f62"),l={name:"MainTweetPostModal",props:{MainTweetPostModalSwitch:{type:Boolean,required:!0}},data:function(){return{teweetContent:"",contentError:!1,errorContentMessage:"",avatar:"",submitMessage:"推文",isProcessing:!1}},computed:Object(o["a"])({},Object(u["b"])(["currentUser","isAuthenticated"])),methods:{ciickClose:function(){this.$emit("after-click-close")},clickModalBackground:function(e){var t=e.target;"modal-background"===t.className&&this.$emit("after-click-background")},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.teweetContent,0!==a.trim().length){t.next=7;break}return e.contentError=!0,e.errorContentMessage="內容不可以空白",t.abrupt("return");case 7:if(!(a.length>140)){t.next=11;break}return e.contentError=!0,e.errorContentMessage="字數不可超過140字",t.abrupt("return");case 11:e.contentError=!1,e.errorContentMessage="";case 13:return t.prev=13,e.isProcessing=!0,e.submitMessage="請稍後..",s='{\n          "description":"'.concat(a,'"\n        }'),n=JSON.parse(s),t.next=20,c["a"].postTweet({data_JSON:n});case 20:if(r=t.sent,"success"===r.data.status){t.next=23;break}throw new Error;case 23:i["a"].fire({icon:"success",title:"發送成功!"}),e.ciickClose(),e.$emit("after-tweet-post"),e.teweetContent="",e.isProcessing=!1,e.submitMessage="推文",t.next=36;break;case 31:t.prev=31,t.t0=t["catch"](13),i["a"].fire({icon:"error",title:"無法送出推文,請稍後"}),e.isProcessing=!1,e.submitMessage="推文";case 36:case"end":return t.stop()}}),t,null,[[13,31]])})))()}}},d=l,f=(a("800e"),a("2877")),p=Object(f["a"])(d,s,n,!1,null,"4086a73d",null);t["a"]=p.exports},f8a2:function(e,t,a){"use strict";a("61d8")},fa11:function(e,t,a){"use strict";a("e029")},fb62:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"menu"},[s("div",{staticClass:"logo-wrapper"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo",attrs:{src:a("a896"),alt:""}})])],1),s("nav",{staticClass:"menu-nav"},[s("ul",{staticClass:"menu-nav-wrapper"},[s("li",{staticClass:"menu-nav-link"},[s("router-link",{staticClass:"menu-link",attrs:{to:"/main"}},[s("i",{staticClass:"bx bxs-home-circle"}),s("span",{staticClass:"menu-link-title"},[e._v(" 首頁 ")])])],1),s("li",{staticClass:"menu-nav-link"},[s("router-link",{staticClass:"menu-link",attrs:{to:{name:"user",params:{id:e.currentUserId}}}},[s("i",{staticClass:"bx bx-user"}),s("span",{staticClass:"menu-link-title"},[e._v(" 個人資料 ")])])],1),s("li",{staticClass:"menu-nav-link"},[s("router-link",{staticClass:"menu-link",attrs:{to:"/publicmessage"}},[s("svg",{staticClass:"svg-icon",attrs:{viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M17.388,4.751H2.613c-0.213,0-0.389,0.175-0.389,0.389v9.72c0,0.216,0.175,0.389,0.389,0.389h14.775c0.214,0,0.389-0.173,0.389-0.389v-9.72C17.776,4.926,17.602,4.751,17.388,4.751 M16.448,5.53L10,11.984L3.552,5.53H16.448zM3.002,6.081l3.921,3.925l-3.921,3.925V6.081z M3.56,14.471l3.914-3.916l2.253,2.253c0.153,0.153,0.395,0.153,0.548,0l2.253-2.253l3.913,3.916H3.56z M16.999,13.931l-3.921-3.925l3.921-3.925V13.931z"}})]),s("span",{staticClass:"menu-link-title"},[e._v(" 公開聊天室 ")])])],1),s("li",{staticClass:"menu-nav-link"},[s("router-link",{staticClass:"menu-link",attrs:{to:"/setting"}},[s("i",{staticClass:"bx bx-cog"}),s("span",{staticClass:"menu-link-title"},[e._v(" 設定 ")])])],1),s("li",{staticClass:"menu-nav-post"},[s("button",{staticClass:"menu-nav-btn",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.clickPostModal.apply(null,arguments)}}},[e._v(" 推文 ")]),s("div",{staticClass:"menu-nav-narrow-btn",on:{click:e.clickPostModal}},[e._v("+")])])]),s("ul",{staticClass:"menu-nav-wrapper"},[s("li",{staticClass:"menu-nav-link",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.clickLogout.apply(null,arguments)}}},[s("router-link",{staticClass:"menu-link",attrs:{to:"/#"}},[s("i",{staticClass:"bx bx-log-out"}),s("span",{staticClass:"menu-link-title"},[e._v(" 登出 ")])])],1)])]),s("MainTweetPostModal",{attrs:{MainTweetPostModalSwitch:e.MainTweetPostModal},on:{"after-click-close":e.afterClickClose,"after-click-background":e.afterClickClose,"after-tweet-post":e.afterTweetPost}})],1)},n=[],r=a("5530"),o=a("e857"),c=a("2f62"),i={namd:"Menu",components:{MainTweetPostModal:o["a"]},data:function(){return{MainTweetPostModal:!1,currentUserId:-1}},computed:Object(r["a"])({},Object(c["b"])(["currentUser","isAuthenticated"])),created:function(){this.currentUserId=this.currentUser.id},methods:{clickPostModal:function(){this.MainTweetPostModal=!0},afterClickClose:function(){this.MainTweetPostModal=!1},afterTweetPost:function(){this.$emit("after-tweet-post")},clickLogout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},u=i,l=(a("fe29"),a("2877")),d=Object(l["a"])(u,s,n,!1,null,"729cc5d4",null);t["a"]=d.exports},fe29:function(e,t,a){"use strict";a("73bc")}});
//# sourceMappingURL=app.9d879830.js.map